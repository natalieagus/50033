"use strict";(self.webpackChunksite_docusaurus_template=self.webpackChunksite_docusaurus_template||[]).push([[1992],{12926:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>m,contentTitle:()=>p,default:()=>j,frontMatter:()=>h,metadata:()=>t,toc:()=>x});const t=JSON.parse('{"id":"newborns/basics","title":"Super Mario Bros","description":"Yes, this classic game. Who doesn\'t know this game? Mario, our favourite plumber!","source":"@site/docs/01-newborns/basics.md","sourceDirName":"01-newborns","slug":"/newborns/basics","permalink":"/50033/docs/newborns/basics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installation and Setup","permalink":"/50033/docs/newborns/installation"},"next":{"title":"User Interface","permalink":"/50033/docs/newborns/ui"}}');var s=i(74848),o=i(28453),r=(i(53398),i(19894)),a=i(88761),d=(i(89166),i(384)),l=i(72206),c=i(82223);const h={sidebar_position:2},p="Super Mario Bros",m={},x=[{value:"Unity Basics: The Scene",id:"unity-basics-the-scene",level:2},{value:"GameObject",id:"gameobject",level:3},{value:"Camera",id:"camera",level:3},{value:"Background",id:"background",level:4},{value:"Projection",id:"projection",level:4},{value:"Game Window",id:"game-window",level:4},{value:"Mario Sprite",id:"mario-sprite",level:3},{value:"Setting up Inputs",id:"setting-up-inputs",level:3},{value:"Scripting",id:"scripting",level:2},{value:"Creating a Script",id:"creating-a-script",level:3},{value:"Unity Order Execution of Event Functions.",id:"unity-order-execution-of-event-functions",level:3},{value:"Unity 2D Physics Engine",id:"unity-2d-physics-engine",level:2},{value:"Move Mario",id:"move-mario",level:3},{value:"RigidBody2D Setting",id:"rigidbody2d-setting",level:3},{value:"Stop Mario",id:"stop-mario",level:3},{value:"Make Mario Jump",id:"make-mario-jump",level:2},{value:"Enable Gravity",id:"enable-gravity",level:3},{value:"Collider2D",id:"collider2d",level:3},{value:"OnCollision2D and Double Jump",id:"oncollision2d-and-double-jump",level:3},{value:"Beautify",id:"beautify",level:2},{value:"Housekeeping Tips",id:"housekeeping-tips",level:3},{value:"Flip Mario",id:"flip-mario",level:2},{value:"Add Obstacles",id:"add-obstacles",level:2},{value:"Goombas",id:"goombas",level:3},{value:"Move Goomba",id:"move-goomba",level:4},{value:"Update() vs FixedUpdate()",id:"update-vs-fixedupdate",level:3},{value:"Collision between Goomba and Mario",id:"collision-between-goomba-and-mario",level:3}];function u(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"super-mario-bros",children:"Super Mario Bros"})}),"\n",(0,s.jsx)(a.A,{path:i(52044).A,widthPercentage:"100%"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Yes, this classic game. Who doesn't know this game? Mario, our favourite plumber!"})}),"\n",(0,s.jsxs)(n.p,{children:["The overarching goal of our labs is to recreate basics this classic platform game: ",(0,s.jsx)(n.strong,{children:"Super Mario Bros"})," step by step while learning Unity's features along the way. We will try to rebuild ",(0,s.jsx)(n.a,{href:"https://www.mariowiki.com/World_1-1_(Super_Mario_Bros.)",children:"World 1-1"})," as closely as possible, although due to constraints of time, some features may be omitted. We then discuss a few technical details in depth: such as game and asset management, events, and callbacks."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["If you've never played this game before, ",(0,s.jsx)(n.a,{href:"https://supermarioplay.com",children:"give it a try before proceeding"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"Lab Checkoff Requirements",type:"caution",children:[(0,s.jsxs)(n.p,{children:["The lab handout uses Super Mario Bros as assets to demonstrate certain Unity features and functionalities. You are free to follow along and submit it for checkoff, ",(0,s.jsx)(n.strong,{children:"OR you can also create an entirely new project to demonstrate the requested feature(s)"}),"."]}),(0,s.jsxs)(n.p,{children:["The requirement(s) for the lab checkoff can be found ",(0,s.jsx)(n.a,{href:"/50033/docs/newborns/checkoff",children:"here"}),"."]})]}),"\n",(0,s.jsx)(n.h2,{id:"unity-basics-the-scene",children:"Unity Basics: The Scene"}),"\n",(0,s.jsx)(n.h3,{id:"gameobject",children:"GameObject"}),"\n",(0,s.jsxs)(n.p,{children:["Everything you see on the game scene is a ",(0,s.jsx)(n.strong,{children:"GameObject"}),". It is the ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/GameObject.html",children:"base class"})," of all entities in the Unity Scene."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Let\u2019s add Mario to the scene."})," Right click in the Hierarchy tab and create a ",(0,s.jsx)(n.strong,{children:"2D Object"})," with ",(0,s.jsx)(n.strong,{children:"Sprite"})," component (doesn't matter which shape you select). Change its name to \u201cMario\u201d. Right now Mario doesn't seem like much. We need to do these later:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Add Mario Sprite (",(0,s.jsx)(n.strong,{children:"image"}),") to it, so it ",(0,s.jsx)(n.em,{children:"looks"})," like Mario"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Control"})," it (move it around): left, right, jump, down (enter pipe)"]}),"\n",(0,s.jsxs)(n.li,{children:["Add some basic ",(0,s.jsx)(n.strong,{children:"animations"})," and ",(0,s.jsx)(n.strong,{children:"sound effects"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"camera",children:"Camera"}),"\n",(0,s.jsxs)(n.p,{children:["Every scene has ",(0,s.jsx)(n.strong,{children:"one"}),' Main Camera. The Main Camera renders what the player "see" in the Game window. If you place Mario GameObject at Position ',(0,s.jsx)(n.code,{children:"(0,0,0)"}),', the Camera can "see" it if it\'s placed at some Z-distance ',(0,s.jsx)(n.em,{children:"away"})," from Mario, as follows:"]}),"\n",(0,s.jsx)(a.A,{path:i(25659).A,widthPercentage:"100%"}),"\n",(0,s.jsx)(n.p,{children:"You can move the x, and y Transform Position of Mario GameObject and notice how the view at the Game window changes."}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["Toggle the 2D to 3D view in the Scene and familiarise yourself with navigation around the Scene. ",(0,s.jsx)(n.strong,{children:"This is your Game World"}),"."]}),(0,s.jsx)(a.A,{path:i(43721).A,widthPercentage:"100%"}),(0,s.jsxs)(n.p,{children:["Notice that over at the Inspector Area, there are three ",(0,s.jsx)(n.strong,{children:"components"})," attached at the MainCamera GameObject: ",(0,s.jsx)(n.code,{children:"Transform"})," (to place the object in the Scene), ",(0,s.jsx)(n.code,{children:"Camera"}),", and ",(0,s.jsx)(n.code,{children:"Audio Listener"}),". The title pretty much explains itself."]})]}),"\n",(0,s.jsx)(n.h4,{id:"background",children:"Background"}),"\n",(0,s.jsxs)(n.p,{children:['Right now we only have one "Mario" GameObject in the scene and that\'s what the Game window shows. The blue color comes from the ',(0,s.jsx)(n.code,{children:"Background"})," property of the Camera. You can set it to any other solid color if you want, or a Skybox."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["A skybox is a cube with a different texture on each face. When you use a skybox to render a sky, Unity essentially places your Scene ",(0,s.jsx)(n.em,{children:"inside"})," the skybox cube. Unity renders the skybox first, so the sky always renders at the back. ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/Manual/skyboxes.html",children:"Read more about it here"}),"."]}),"\n"]}),"\n",(0,s.jsx)(a.A,{path:i(53920).A,widthPercentage:"100%"}),"\n",(0,s.jsx)(n.h4,{id:"projection",children:"Projection"}),"\n",(0,s.jsxs)(n.p,{children:["There are ",(0,s.jsx)(n.strong,{children:"two"})," types of camera projection: Orthographic and Perspective, the name explains itself. Since we are working with a 2D side-scrolling platform game for these labs, we stick with orthographic projection."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/Manual/class-Camera.html",children:"Read more about Camera Component here. "})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"game-window",children:"Game Window"}),"\n",(0,s.jsxs)(n.p,{children:["It is worth noting that you might want to set the ",(0,s.jsx)(n.strong,{children:"Game aspect ratio"})," under the ",(0,s.jsx)(n.strong,{children:"Game tab"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Click the drag-down menu as shown and select the option that you\u2019re most comfortable with."}),"\n",(0,s.jsx)(n.li,{children:"E.g: selecting \u201cFree Aspect\u201d means that your window size will affect the camera \u201cview\u201d."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"mario-sprite",children:"Mario Sprite"}),"\n",(0,s.jsx)(n.p,{children:"Open Assets >> Sprites and notice that we have provided you with various spritesheets: characters, enemies, mario, misc-3, and title."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"A sprite sheet is a bitmap image file that contains several smaller graphics in a tiled grid arrangement."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Now click on Mario's sprite, change its ",(0,s.jsx)(n.code,{children:"Sprite Mode"})," to ",(0,s.jsx)(n.strong,{children:"Multiple"}),", and launch the Sprite Editor. Notice that the sprites are blurry. Go back to the inspector and change the ",(0,s.jsx)(n.code,{children:"Filter Mode"})," to ",(0,s.jsx)(n.strong,{children:"Point (no filter)"})," to disable smoothing and get clean edges for the sprites. This is something to keep in mind when you work with pixel art."]}),"\n",(0,s.jsxs)(n.p,{children:["Afterwards, in the Sprite Editor, you can define sections of the sprite that you want manually, or automatically. In the case of our Mario sprite, they're not placed in regular spacing, so ",(0,s.jsxs)(n.a,{href:"https://docs.unity3d.com/Manual/sprite-automatic-slicing.html",children:[(0,s.jsx)(n.strong,{children:"slicing"})," them automatically"]})," will not work. We need to ",(0,s.jsx)(n.strong,{children:"manually"})," slice each Sprite as such:"]}),"\n",(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-sprite-slice.mp4",widthPercentage:"100%"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Yes, it's tedious."})," Don't worry, we will give you pre-sliced sprites later."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"setting-up-inputs",children:"Setting up Inputs"}),"\n",(0,s.jsxs)(n.p,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Edit >> Project Settings"})," and click on ",(0,s.jsx)(n.strong,{children:"Input Manager"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["We want to test if we can control the movement of Mario using the keys ",(0,s.jsx)(n.code,{children:"a"})," and ",(0,s.jsx)(n.code,{children:"d"})," for movement to the left and right respectively."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Check if the setting of \u201chorizontal\u201d axis is correct as per the screenshot below.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You can also add your own key bindings here and give it your own name."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Later in the script, you can decide what to do if a certain named key is pressed."}),"\n"]}),"\n",(0,s.jsx)(a.A,{path:i(8260).A,widthPercentage:"100%"}),"\n",(0,s.jsx)(n.h2,{id:"scripting",children:"Scripting"}),"\n",(0,s.jsx)(n.h3,{id:"creating-a-script",children:"Creating a Script"}),"\n",(0,s.jsxs)(n.p,{children:["Right click inside the ",(0,s.jsx)(n.strong,{children:"Scripts"})," folder in the ",(0,s.jsx)(n.strong,{children:"Project"})," window, create a new C# script ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),". Here we will programmatically control Mario. Open the script with an editor of your choice."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Here, we use VSCode."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You will see that there are two methods pre-made for you: ",(0,s.jsx)(n.code,{children:"Start"})," and ",(0,s.jsx)(n.code,{children:"Update"}),", and that your instance inherits ",(0,s.jsx)(n.code,{children:"MonoBehaviour"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",metastring:'title="PlayerMovement.cs"',children:"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class PlayerMovement : MonoBehaviour\n{\n    // Start is called before the first frame update\n    void Start()\n    {\n\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n\n    }\n}\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"unity-order-execution-of-event-functions",children:"Unity Order Execution of Event Functions."}),"\n",(0,s.jsxs)(n.p,{children:["We can implement the ",(0,s.jsx)(n.strong,{children:"event"})," functions in the script that\u2019s attached to a particular GameObject. Notice that in the script we created,"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["It inherits from MonoBehaviour, the base class from which every ",(0,s.jsx)(n.em,{children:"Unity script"})," derives. It offers some life cycle functions that make it easier for us to manage our game."]}),"\n",(0,s.jsxs)(n.li,{children:["It comes with ",(0,s.jsx)(n.strong,{children:"two"})," starting functions for you to implement if you want: ",(0,s.jsx)(n.code,{children:"Start()"})," and ",(0,s.jsx)(n.code,{children:"Update()"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Start()"})," is always called once in the beginning when the GameObject is instantiated, and then ",(0,s.jsx)(n.code,{children:"Update()"})," is called per frame. ",(0,s.jsx)(n.strong,{children:"This is where you want to implement your game logic."})," The diagram below shows the order of execution of event functions."]}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"important",children:(0,s.jsxs)(n.p,{children:["These event functions run on a single Unity main thread. ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/Manual/ExecutionOrder.html",children:"Please read the official documentation"}),"."]})}),"\n",(0,s.jsx)(a.A,{path:"https://docs.unity3d.com/uploads/Main/monobehaviour_flowchart.svg",customClass:"invert-color",widthPercentage:"100%"}),"\n",(0,s.jsxs)(n.p,{children:["Usually we don\u2019t implement all of them. One of the more common ones to implement are: ",(0,s.jsx)(n.code,{children:"Start, Update, FixedUpdate, LateUpdate, OnTrigger, OnCollision, OnMouse, OnDestroy"}),", and some internal animation state machines if you use ",(0,s.jsx)(n.code,{children:"AnimationControllers"}),". We will learn that in the next series."]}),"\n",(0,s.jsx)(n.h2,{id:"unity-2d-physics-engine",children:"Unity 2D Physics Engine"}),"\n",(0,s.jsx)(n.h3,{id:"move-mario",children:"Move Mario"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Let's attempt to move Mario via the script."})," Firstly, Add ",(0,s.jsxs)(n.a,{href:"https://docs.unity3d.com/Manual/class-Rigidbody2D.html",children:[(0,s.jsx)(n.code,{children:"Rigidbody2D"})," component"]})," in the ",(0,s.jsx)(n.strong,{children:"Inspector"})," and set:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Gravity Scale"})," to ",(0,s.jsx)(n.code,{children:"0"}),","]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Linear Damping"})," to ",(0,s.jsx)(n.code,{children:"3"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BodyType"})," to ",(0,s.jsx)(n.code,{children:"Dynamic"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["We can then control this component from the script. Add the following code inside ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",metastring:'title="PlayerMovement.cs"',children:'using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class PlayerMovement : MonoBehaviour\n{\n    //highlight-start\n    public float speed = 10;\n    private Rigidbody2D marioBody;\n//highlight-end\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        //highlight-start\n        // Set to be 30 FPS\n        Application.targetFrameRate =  30;\n        marioBody = GetComponent<Rigidbody2D>();\n        //highlight-end\n\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n\n    }\n\n    //highlight-start\n    // FixedUpdate is called 50 times a second\n    void  FixedUpdate()\n    {\n        float moveHorizontal = Input.GetAxisRaw("Horizontal");\n        Vector2 movement = new Vector2(moveHorizontal, 0);\n        marioBody.AddForce(movement * speed);\n    }\n    //highlight-end\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Add the script to Mario: Add Component >> Script >> ",(0,s.jsx)(n.code,{children:"PlayerMovement"}),"."]}),"\n",(0,s.jsxs)(n.admonition,{type:"playtest",children:[(0,s.jsxs)(n.p,{children:["You can ",(0,s.jsx)(n.strong,{children:"test run"})," that now Mario can be moved to the left and to the right using the keys \u201ca\u201d and \u201cd\u201d respectively. You can change the value of ",(0,s.jsx)(n.code,{children:"speed"})," in Mario's Inspector under Script component."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"However, this may not feel quite right. We will fix this later but first, let's learn about Unity event functions."})})]}),"\n",(0,s.jsx)(n.h3,{id:"rigidbody2d-setting",children:"RigidBody2D Setting"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The problem"}),": Mario seems to be ",(0,s.jsx)(n.em,{children:"sliding"}),". We would expect him to stop the moment we lift the key, wouldn\u2019t we?"]}),"\n",(0,s.jsxs)(n.p,{children:["Setting the ",(0,s.jsx)(n.code,{children:"BodyType"})," to ",(0,s.jsx)(n.code,{children:"Dynamic"})," allows the ",(0,s.jsx)(n.strong,{children:"physics engine to simulate"})," forces, collisions, etc on the body. Since we\u2019re adding Force to Mario\u2019s body, it will obviously \u201cglide\u201d until the drag forces it to stop. We need to fix this."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Setting BodyType to ",(0,s.jsx)(n.code,{children:"Kinematic"})," allows movement under simulation but under very specific user control, that is you want to compute its behavior yourself: simulating Physics under your own rule instead of relying on Unity's Physics engine. Read the documentation ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/Manual/Rigidbody2D-Kinematic.html",children:"here"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"stop-mario",children:"Stop Mario"}),"\n",(0,s.jsx)(n.p,{children:"To prevent this \u201csliding\u201d feature that\u2019s not very intuitive for platform game like this, we need to"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Reduce Mario's velocity as much as possible, even near ",(0,s.jsx)(n.code,{children:"0"})," when key \u201ca\u201d or \u201cd\u201d is lifted up"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clamp"})," his speed to a maximum value so he doesn\u2019t run faster and faster when we hold that \u201ca\u201d or \u201cd\u201d button."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Add the global variable ",(0,s.jsx)(n.code,{children:"maxSpeed"})," and implement ",(0,s.jsx)(n.code,{children:"FixedUpdate()"})," in ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:'You might see Mario not stop when lifting "a" or "d".\nThis is because Input.GetKeyUp is in FixedUpdate, which may not run on every frame and cause the input event to be missed.\nWe will go through this in the lab review.'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:'    //highlight-start\n    public float maxSpeed = 20;\n    //highlight-end\n\n    // FixedUpdate may be called once per frame. See documentation for details.\n    void FixedUpdate()\n    {\n        float moveHorizontal = Input.GetAxisRaw("Horizontal");\n\n   //highlight-start\n        if (Mathf.Abs(moveHorizontal) > 0){\n            Vector2 movement = new Vector2(moveHorizontal, 0);\n            // check if it doesn\'t go beyond maxSpeed\n            if (marioBody.linearVelocity.magnitude < maxSpeed)\n                    marioBody.AddForce(movement * speed);\n        }\n\n        // stop\n        if (Input.GetKeyUp("a") || Input.GetKeyUp("d")){\n            // stop\n            marioBody.linearVelocity = Vector2.zero;\n        }\n  //highlight-end\n  }\n\n\n'})}),"\n",(0,s.jsx)(n.h2,{id:"make-mario-jump",children:"Make Mario Jump"}),"\n",(0,s.jsxs)(n.p,{children:["Let\u2019s make him jump to a fixed height whenever we press the ",(0,s.jsx)(n.strong,{children:"Spacebar"})," key once. We can leverage on the physics engine for this, but we need to ",(0,s.jsx)(n.strong,{children:"enable gravity"}),". Otherwise, we have to make the Kinematics computation ourselves."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Nobody\u2019s stopping you to do that, but due to time constraints let\u2019s not reinvent the wheel."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"enable-gravity",children:"Enable Gravity"}),"\n",(0,s.jsxs)(n.p,{children:["In Mario's Inspector, set RigidBody2D property ",(0,s.jsx)(n.code,{children:"GravityScale"})," to ",(0,s.jsx)(n.code,{children:"1"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"playtest",children:(0,s.jsxs)(n.p,{children:["If you press play now, Mario will fall to ",(0,s.jsx)(n.strong,{children:"oblivion"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"collider2d",children:"Collider2D"}),"\n",(0,s.jsxs)(n.p,{children:["We need to add some sort of a \u201cfloor\u201d to prevent him from falling down (via collision). A GameObject will not collide with each other unless they have the ",(0,s.jsx)(n.code,{children:"Collider"})," component attacked to it."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create a new 2D Sprite GameObject and name it Ground."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add ",(0,s.jsx)(n.code,{children:"BoxCollider2D"})," component to it:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Enable ",(0,s.jsx)(n.code,{children:"Auto Tiling"})," property"]}),"\n",(0,s.jsx)(n.li,{children:"This allows the Collider to follow the SpriteRenderer's tiling properties"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add a ",(0,s.jsx)(n.code,{children:"Tag"})," called ",(0,s.jsx)(n.code,{children:"Ground"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Make a new tag by Inspector >> Tag >> Add Tag... >> ",(0,s.jsx)(n.code,{children:"+"})," under Tags"]}),"\n"]}),"\n",(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)(a.A,{path:i(21532).A,widthPercentage:"90%"}),(0,s.jsx)(a.A,{path:i(37628).A,widthPercentage:"90%"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Set its ",(0,s.jsx)(n.code,{children:"Transform"})," to:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Rotation (0,0,0)"}),"\n",(0,s.jsx)(n.li,{children:"Scale (1,1,0)"}),"\n",(0,s.jsx)(n.li,{children:"Position: Anywhere below y-axis of Mario"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Now we want some sort of Ground Sprite first, so you can go and edit ",(0,s.jsx)(n.code,{children:"misc-3"}),' Sprite and extract a little Ground sprite from it. Name it "Ground Brown". Then, set the following ',(0,s.jsx)(n.strong,{children:"properties"})," on ",(0,s.jsx)(n.code,{children:"misc-3"})," ",(0,s.jsx)(n.strong,{children:"Texture"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/SpriteMeshType.html",children:"Mesh Type"})," to ",(0,s.jsx)(n.code,{children:"Full Rect"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/TextureWrapMode.Repeat.html",children:"Wrap mode"})," to ",(0,s.jsx)(n.code,{children:"Repeat"})]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["When we drag .png files into ",(0,s.jsx)(n.code,{children:"Assets/Sprite"})," folder, it is automatically converted into Textures. We will learn more about it later, but ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/Manual/Textures.html",children:"give the docs a read"}),". The ",(0,s.jsx)(n.code,{children:"Wrap Mode"}),' property allows us to automatically "repeat" the ground tiles as we scale the Ground GameObject.']}),"\n"]}),"\n",(0,s.jsx)(a.A,{path:i(45891).A,widthPercentage:"100%"}),"\n",(0,s.jsx)(n.p,{children:"Go back to the Sprite Renderer component of Ground GameObject, and set the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Draw Mode: ",(0,s.jsx)(n.code,{children:"Tiled"})]}),"\n",(0,s.jsxs)(n.li,{children:["Size: Width of ",(0,s.jsx)(n.code,{children:"20"})]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Use the Size property of Sprite Renderer if you want to adjust the Ground's width or height. Do NOT use Transform's scale. Otherwise, the Collider2D will not be able to properly tell the boundaries of the GameObject."})}),"\n",(0,s.jsx)(a.A,{path:i(82164).A,widthPercentage:"100%"}),"\n",(0,s.jsxs)(n.p,{children:["Finally, also ",(0,s.jsx)(n.strong,{children:"add"})," a ",(0,s.jsx)(n.code,{children:"BoxCollider2D"}),' to Mario so that they can "collide" and prevents him from falling to oblivion. You can press ',(0,s.jsx)(n.code,{children:"Edit Collider"})," in the component of Mario gameobject to adjust the collider edges to match Mario's sprite."]}),"\n",(0,s.jsx)(n.admonition,{type:"playtest",children:(0,s.jsx)(n.p,{children:"Test it and you should see Mario not falling to oblivion anymore."})}),"\n",(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-collide-ground.mov",widthPercentage:"100%"}),"\n",(0,s.jsx)(n.h3,{id:"oncollision2d-and-double-jump",children:"OnCollision2D and Double Jump"}),"\n",(0,s.jsxs)(n.p,{children:["Now we implement the ",(0,s.jsx)(n.code,{children:"Collider"})," ",(0,s.jsx)(n.strong,{children:"callback"})," function called ",(0,s.jsx)(n.code,{children:"OnCollision2D"})," in ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),". The idea is that if Mario is on the ground, and if spacebar is pressed, we will add an ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/ForceMode2D.Impulse.html",children:"Impulse"})," force ",(0,s.jsx)(n.strong,{children:"upwards"}),". Pressing spacebar again should ",(0,s.jsx)("span",{className:"orange-bold",children:"not"})," cause Mario to double jump."]}),"\n",(0,s.jsxs)(n.p,{children:["We need to have some kind of ",(0,s.jsx)(n.strong,{children:"state"}),' variable for this, and an upward "speed". Add the following code to ',(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",metastring:'title="PlayerMovement.cs"',children:'//highlight-start\n  public float upSpeed = 10;\n  private bool onGroundState = true;\n//highlight-end\n\n  //highlight-start\n  void OnCollisionEnter2D(Collision2D col)\n  {\n      if (col.gameObject.CompareTag("Ground")) onGroundState = true;\n  }\n  //highlight-end\n\n  void FixedUpdate()\n  {\n    // other instructions\n\n    //highlight-start\n    if (Input.GetKeyDown("space") && onGroundState){\n        marioBody.AddForce(Vector2.up * upSpeed, ForceMode2D.Impulse);\n        onGroundState = false;\n    }\n    //highlight-end\n  }\n'})}),"\n",(0,s.jsxs)(n.admonition,{type:"playtest",children:[(0,s.jsx)(n.p,{children:"Test your jumping Mario. You should have something like this."}),(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-jump.mp4",widthPercentage:"100%"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can improve the controls and adjust the parameters: ",(0,s.jsx)(n.code,{children:"speed"}),", ",(0,s.jsx)(n.code,{children:"upSpeed"}),", and ",(0,s.jsx)(n.code,{children:"maxSpeed"})," accordingly to get the right \u201c",(0,s.jsx)(n.strong,{children:"feel"}),"\u201d. It can take quite a lot of time to get the ",(0,s.jsx)(n.strong,{children:"kinesthetics"})," right, but it is an important part of your journey in making a good game."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"Focus more on these details instead of \u201cexpanding\u201d your game. We don\u2019t require you to create a 1-hour long game, but rather a short and well designed game. Invest your time wisely."})}),"\n",(0,s.jsx)(n.h2,{id:"beautify",children:"Beautify"}),"\n",(0,s.jsxs)(n.p,{children:["The following shows a simple screenshot of ",(0,s.jsxs)(n.a,{href:"https://www.mariowiki.com/World_1-1_%28Super_Mario_Bros.%29",children:[(0,s.jsx)(n.code,{children:"World-1-1"})," of Super Mario Bros"]}),". Let's try to recreate a part of it as much as possible before advancing."]}),"\n",(0,s.jsx)(a.A,{path:i(28928).A,widthPercentage:"100%"}),"\n",(0,s.jsxs)(n.p,{children:["We need the following Sprites. You can slowly slice and create them all from ",(0,s.jsx)(n.code,{children:"misc-3"})," Sprite:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Big Hill, small hill"}),"\n",(0,s.jsx)(n.li,{children:"3-shrubs, 1-shrub"}),"\n",(0,s.jsx)(n.li,{children:"1, 2, and 3 clouds"}),"\n",(0,s.jsx)(n.li,{children:"Pipe head, pipe body"}),"\n",(0,s.jsx)(n.li,{children:"Goombas"}),"\n",(0,s.jsx)(n.li,{children:"Brick"}),"\n",(0,s.jsx)(n.li,{children:"Question Blocks"}),"\n",(0,s.jsx)(n.li,{children:"Magic Mushroom"}),"\n",(0,s.jsx)(n.li,{children:"Coin"}),"\n",(0,s.jsx)(n.li,{children:"Brick"}),"\n"]}),"\n",(0,s.jsxs)(r.A,{title:"A Shortcut",children:[(0,s.jsxs)(n.p,{children:["You can ",(0,s.jsx)("a",{href:"https://www.dropbox.com/scl/fo/vwoh9vizstlnmzi5clyrw/h?rlkey=c37jshqpwbikxhpzltcppd532&dl=0",children:"download the texture metadata from here"}),". Then, paste all these ",(0,s.jsx)("code",{children:".meta"})," files under ",(0,s.jsx)("code",{children:"Assets/Sprites"}),". Don't forget to set Texture's Mesh Type and Wrap Mode as above to enable tiling."]}),(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/sprite-import-meta.mp4",widthPercentage:"100%"})]}),"\n",(0,s.jsx)(n.p,{children:"We shall have this before proceeding:"}),"\n",(0,s.jsx)(a.A,{path:i(99165).A,widthPercentage:"100%"}),"\n",(0,s.jsx)(n.h3,{id:"housekeeping-tips",children:"Housekeeping Tips"}),"\n",(0,s.jsxs)(n.p,{children:["You might want to set the Ground Gameobject's Sprite Renderer >> Additional Settings >> Order in Layer property to ",(0,s.jsx)(n.code,{children:"1"})," (instead of ",(0,s.jsx)(n.code,{children:"0"}),') so that static assets like Mountains, Shrubs, etc can be "behind" the ground.']}),"\n",(0,s.jsx)(a.A,{path:i(42088).A,widthPercentage:"100%"}),"\n",(0,s.jsxs)(n.p,{children:["You might also want to ",(0,s.jsx)(n.strong,{children:"group"})," related GameObjects together as shown in the Screenshot's Hierarchy."]}),"\n",(0,s.jsx)(n.p,{children:'Also, you can "drag" and move GameObjects together in the scene.'}),"\n",(0,s.jsx)(n.p,{children:"Here's a speedup recording demonstrating all of the above:"}),"\n",(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/background-setup.mp4",widthPercentage:"100%"}),"\n",(0,s.jsx)(n.h2,{id:"flip-mario",children:"Flip Mario"}),"\n",(0,s.jsxs)(n.p,{children:["Now let\u2019s fix Mario\u2019s facing. If he is going to the left, he should be facing the left side and vice versa. The direction he\u2019s facing should conform to the ",(0,s.jsx)(n.strong,{children:"last pressed key"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["We can do this by enabling the ",(0,s.jsx)(n.code,{children:"flipX"})," property of its ",(0,s.jsx)(n.code,{children:"SpriteRenderer"})," whenever key \u201ca\u201d is pressed, and disabling it whenever key \u201cd\u201d is pressed. We also have to control the ",(0,s.jsx)(n.code,{children:"SpriteRenderer"})," component via the script. You can pretty much get any component via ",(0,s.jsx)(n.code,{children:"GetComponent<type>()"})," method in the script attached to the game object."]}),"\n",(0,s.jsxs)(n.p,{children:["Add the following changes to ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",metastring:'title="PlayerMovement.cs"',children:'\n    //highlight-start\n    // global variables\n    private SpriteRenderer marioSprite;\n    private bool faceRightState = true;\n    //highlight-end\n\n    void Start(){\n        //highlight-start\n        marioSprite = GetComponent<SpriteRenderer>();\n        //highlight-end\n\n        // other instructions\n    }\n\n    void Update(){\n        //highlight-start\n              // toggle state\n      if (Input.GetKeyDown("a") && faceRightState){\n          faceRightState = false;\n          marioSprite.flipX = true;\n      }\n\n      if (Input.GetKeyDown("d") && !faceRightState){\n          faceRightState = true;\n          marioSprite.flipX = false;\n      }\n      //highlight-end\n\n      // other instructions\n    }\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["We do not implement the flipping of Sprite under ",(0,s.jsx)(n.code,{children:"FixedUpdate"})," since it has ",(0,s.jsx)(n.strong,{children:"nothing"})," to do with the Physics Engine."]})}),"\n",(0,s.jsxs)(n.admonition,{type:"playtest",children:[(0,s.jsx)(n.p,{children:'Your Mario will now face left and right accordingly as "a" or "d" key is pressed.'}),(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-flip.mp4",widthPercentage:"100%"})]}),"\n",(0,s.jsx)(n.h2,{id:"add-obstacles",children:"Add Obstacles"}),"\n",(0,s.jsx)(n.p,{children:"There are many obstacles that can be added to a game: enemies, physical obstacles, etc."}),"\n",(0,s.jsx)(n.h3,{id:"goombas",children:"Goombas"}),"\n",(0,s.jsx)(n.p,{children:"Now it's time to create the Enemy."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create an empty GameObject onto the scene, name it ",(0,s.jsx)(n.code,{children:"Enemies"})]}),"\n",(0,s.jsxs)(n.li,{children:["Create a child GameObject under ",(0,s.jsx)(n.code,{children:"Enemy"}),", name it Goomba:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["add ",(0,s.jsx)(n.code,{children:"SpriteRenderer"})," Component,","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.code,{children:"Order in Layer"})," as ",(0,s.jsx)(n.code,{children:"2"})," because we want it to be in front of the static background images and the ground."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["add ",(0,s.jsx)(n.code,{children:"Rigidbody2D"})," and ",(0,s.jsx)(n.code,{children:"Collider2D"})," Components"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Put ",(0,s.jsx)(n.code,{children:"brown_goomba_1"})," as its sprite, edit its ",(0,s.jsx)(n.code,{children:"Transform"})," so it is placed beside Mario"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"move-goomba",children:"Move Goomba"}),"\n",(0,s.jsxs)(n.p,{children:["Now we want Goomba to patrol ",(0,s.jsx)(n.strong,{children:"left"})," and ",(0,s.jsx)(n.strong,{children:"right"})," up to a certain offset X from its starting position. Create a new script called ",(0,s.jsx)(n.code,{children:"EnemyMovement.cs"})," with the following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",metastring:'title="EnemyMovement.cs"',children:"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class EnemyMovement : MonoBehaviour\n{\n\n    private float originalX;\n    private float maxOffset = 5.0f;\n    private float enemyPatroltime = 2.0f;\n    private int moveRight = -1;\n    private Vector2 velocity;\n\n    private Rigidbody2D enemyBody;\n\n    void Start()\n    {\n        enemyBody = GetComponent<Rigidbody2D>();\n        // get the starting position\n        originalX = transform.position.x;\n        ComputeVelocity();\n    }\n    void ComputeVelocity()\n    {\n        velocity = new Vector2((moveRight) * maxOffset / enemyPatroltime, 0);\n    }\n    void Movegoomba()\n    {\n        enemyBody.MovePosition(enemyBody.position + velocity * Time.fixedDeltaTime);\n    }\n\n    // note that this is Update(), which still works but not ideal. See below.\n    void Update()\n    {\n        if (Mathf.Abs(enemyBody.position.x - originalX) < maxOffset)\n        {// move goomba\n            Movegoomba();\n        }\n        else\n        {\n            // change direction\n            moveRight *= -1;\n            ComputeVelocity();\n            Movegoomba();\n        }\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The idea is to allow the enemy to patrol up to ",(0,s.jsx)(n.code,{children:"5.0"})," units to ",(0,s.jsx)(n.em,{children:"the left and to the right"}),", and ",(0,s.jsx)(n.strong,{children:"change"})," direction accordingly when the max offset distance is reached. We also want to control its ",(0,s.jsx)(n.code,{children:"speed"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"If"})," goomba isn\u2019t too far away from its starting position yet, move it to the designated direction"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Else"}),", flip direction"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["We can compute the ",(0,s.jsx)(n.strong,{children:"required"})," velocity by ",(0,s.jsx)(n.strong,{children:"dividing"})," supposed distance travelled with time, and then compute the position at each ",(0,s.jsx)(n.code,{children:"Time.fixedDeltaTime"}),". Then, we can move the enemy to the calculated position: ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"original_position_vector + velocity_vector * delta_time"})})]}),"\n",(0,s.jsxs)(n.p,{children:["Finally, since we do not need to perform a full-blown physics simulation on the enemy, ",(0,s.jsxs)(n.strong,{children:["we can set its ",(0,s.jsx)(n.code,{children:"RigidBody2D"})," ",(0,s.jsx)(n.code,{children:"BodyType"})," to ",(0,s.jsx)(n.code,{children:"Kinematic"}),"."]})," We are simply moving it to patrol around desired location, and later on to detect \u201ccollision\u201d."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Make sure to place Goomba nicely above the Ground. Gravity ",(0,s.jsx)(n.strong,{children:"does not apply"})," to it anymore."]})}),"\n",(0,s.jsxs)(n.admonition,{type:"playtest",children:[(0,s.jsx)(n.p,{children:'Now is a good time to test. Notice how the Goomba "pushes" Mario. That\'s because both objects have colliders in it.'}),(0,s.jsx)(d.A,{path:"https://50033.s3.ap-southeast-1.amazonaws.com/week-1/goomba-setup.mp4",widthPercentage:"100%"})]}),"\n",(0,s.jsx)(n.h3,{id:"update-vs-fixedupdate",children:"Update() vs FixedUpdate()"}),"\n",(0,s.jsxs)(n.p,{children:["While the above script works, we should've placed the movement logic inside ",(0,s.jsx)(n.code,{children:"FixedUpdate()"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"// Version A: Update\nvoid Update() {\n    transform.position += velocity * Time.deltaTime;\n}\n\n// Version B: FixedUpdate\nvoid FixedUpdate() {\n    enemyBody.MovePosition(enemyBody.position + velocity * Time.fixedDeltaTime);\n}\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Here are a few points to think about."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Frame vs Physics timestep"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Update runs once per rendered frame (variable rate)."}),"\n",(0,s.jsxs)(n.li,{children:["FixedUpdate runs on the physics timestep (fixed rate, default 50 Hz).\n",(0,s.jsx)(n.em,{children:"What happens if the framerate is 30 fps vs 120 fps?"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DeltaTime mismatch"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In Update, you should use ",(0,s.jsx)(n.code,{children:"Time.deltaTime"})]}),"\n",(0,s.jsxs)(n.li,{children:["In FixedUpdate, you should use ",(0,s.jsx)(n.code,{children:"Time.fixedDeltaTime"}),"\n",(0,s.jsx)(n.em,{children:"What happens if you use the wrong one?"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Collision accuracy"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Moving a kinematic Rigidbody via transform.position or MovePosition in Update doesn\u2019t line up with the physics solver\n",(0,s.jsx)(n.em,{children:"Will a fast-moving bullet always detect hitting this object? Or might it \u201cmiss\u201d?"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Jitter & interpolation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["At high or low frame rates, motion applied in Update can look smooth, but physics interactions (dynamic bodies colliding with it) may jitter\n",(0,s.jsxs)(n.em,{children:["Why do moving platforms sometimes feel \u201cslippery\u201d when coded in ",(0,s.jsx)(n.code,{children:"Update"}),"?"]})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"When Update is OK"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["For purely visual movement (ghost enemies, cutscene props, non-colliding objects).\n",(0,s.jsx)(n.em,{children:"Can you think of a case where physics accuracy doesn\u2019t matter?"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"collision-between-goomba-and-mario",children:"Collision between Goomba and Mario"}),"\n",(0,s.jsxs)(n.p,{children:["We want Mario to be \u201c",(0,s.jsx)(n.strong,{children:"damaged"}),"\u201d when it collides with Goomba, and we do not need the two bodies to push each other or simulate Physics. The way to do this is to set the collider attached at the enemy\u2019s GameObject as a ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Collider-isTrigger.html",children:"Trigger"}),"."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Tick that ",(0,s.jsx)(n.code,{children:"IsTrigger"})," option in ",(0,s.jsx)(n.code,{children:"BoxCollider2D"})," element. Also, change Goomba's ",(0,s.jsx)(n.strong,{children:"Tag"})," to ",(0,s.jsx)(n.code,{children:"Enemy"})," (",(0,s.jsx)(n.strong,{children:"create"})," it)."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["If a ",(0,s.jsx)(n.code,{children:"Collider"})," collides with another ",(0,s.jsx)(n.code,{children:"Collider"})," that is a ",(0,s.jsx)(n.code,{children:"Trigger"}),", then \u201ccollision effect\u201d will ",(0,s.jsx)(n.strong,{children:"not"})," be computed, and rather the callback ",(0,s.jsx)(n.code,{children:"OnTriggerEnter"})," will be invoked (on ",(0,s.jsx)(n.strong,{children:"both"})," GameObject)."]})}),"\n",(0,s.jsxs)(n.p,{children:["Implement the callback function ",(0,s.jsx)(n.code,{children:"OnTriggerEnter2D"})," in ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),", and ",(0,s.jsx)(n.code,{children:"EnemyMovement.cs"}),":"]}),"\n",(0,s.jsxs)(l.A,{children:[(0,s.jsx)(c.A,{value:"pm",label:"PlayerMovement.cs",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:'  void OnTriggerEnter2D(Collider2D other)\n  {\n      if (other.gameObject.CompareTag("Enemy"))\n      {\n          Debug.Log("Collided with goomba!");\n      }\n  }\n'})})}),(0,s.jsx)(c.A,{value:"empty",label:"EnemyMovement.cs",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"  void OnTriggerEnter2D(Collider2D other)\n  {\n     Debug.Log(other.gameObject.name);\n  }\n"})})})]}),"\n",(0,s.jsxs)(n.admonition,{type:"playtest",children:[(0,s.jsxs)(n.p,{children:["When you test it, you will see the following printout in the ",(0,s.jsx)(n.code,{children:"Console"}),". When the game starts, Goomba printed ",(0,s.jsx)(n.code,{children:"Ground"})," because it collided with the ",(0,s.jsx)(n.code,{children:"Ground"}),". Notice how this is only printed ",(0,s.jsx)(n.strong,{children:"once"})," (upon initial collision and ",(0,s.jsx)("span",{className:"orange-bold",children:"not continuously"}),"). Then, ",(0,s.jsx)(n.strong,{children:"both"})," ",(0,s.jsx)(n.code,{children:"OnTriggerEnter2D"})," methods are called when Mario and Goomba collides."]}),(0,s.jsx)(a.A,{path:i(24038).A,widthPercentage:"100%"})]}),"\n",(0,s.jsxs)(n.p,{children:["Eventually, this collision will cause Mario to lose lives or game to be over. Technically, you can implement this logic once in any of the two scripts, but since it affects Mario (and not Goomba), it makes more sense to do it on ",(0,s.jsx)(n.code,{children:"PlayerMovement.cs"}),' instead. We now need some sort of UI elements to indicate score or HP or "Game Over" text. Let\'s venture into how UI Element works.']})]})}function j(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},52044:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-25-16-45-30-beaf8e61dca0170ea334bdeb429e018b.png"},25659:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-25-22-28-51-baf5ce09329cc94d1047c61315c6986f.png"},43721:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-26-16-59-08-6d1beba757718fdc327af2d332b9b95f.png"},53920:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-26-17-06-08-6e8cab316062c37c6bd69aa33c8b1f17.png"},8260:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-27-08-12-28-08eb842e6b731af4bb1fffdaffa19029.png"},45891:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-27-15-58-49-169c53b29994570b4ee48c784a63942f.png"},82164:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-27-16-01-25-41e3bc973f1e6e842e053bace8f795fd.png"},28928:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-27-16-16-36-db70950e308e66b536cf67d580622280.png"},99165:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-27-17-08-26-df421306245392d1b1122e6487c637a9.png"},42088:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-27-17-09-42-35b4f37475970644dbbb463c1855329f.png"},24038:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2023-07-28-11-26-57-cfbde60d8155b622701d060ca8906111.png"},21532:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/KakaoTalk_20250915_184138780-f061c671a87db37eddd8d197b7a3827e.png"},37628:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/KakaoTalk_20250915_184326833-523eb77ea79ac6289b48bb7875bcef83.png"}}]);