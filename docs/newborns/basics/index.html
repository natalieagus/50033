<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-newborns/basics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Super Mario Bros | Game Development and Design</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://natalieagus.github.io/50033/docs/newborns/basics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Super Mario Bros | Game Development and Design"><meta data-rh="true" name="description" content="Yes, this classic game. Who doesn&#x27;t know this game? Mario, our favourite plumber!"><meta data-rh="true" property="og:description" content="Yes, this classic game. Who doesn&#x27;t know this game? Mario, our favourite plumber!"><link data-rh="true" rel="icon" href="/50033/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://natalieagus.github.io/50033/docs/newborns/basics"><link data-rh="true" rel="alternate" href="https://natalieagus.github.io/50033/docs/newborns/basics" hreflang="en"><link data-rh="true" rel="alternate" href="https://natalieagus.github.io/50033/docs/newborns/basics" hreflang="x-default"><script src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython_stdlib.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/50033/assets/css/styles.6d450c7e.css">
<link rel="preload" href="/50033/assets/js/runtime~main.766988e7.js" as="script">
<link rel="preload" href="/50033/assets/js/main.306b9477.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_jvwV"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/50033/"><div class="navbar__logo"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">50.033</b></a><a class="navbar__item navbar__link" href="/50033/about/intro">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/50033/docs/syllabus">Lab Docs</a><a class="navbar__item navbar__link" href="/50033/resources/intro">Resources</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_H2mL"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/data-driven-world" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_rpaz"><div class="sidebarViewport_YVHi"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/50033/"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>50.033</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/50033/docs/syllabus">Syllabus</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/50033/docs/category/unity-for-newborns">Unity for Newborns</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity for Newborns&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/newborns/installation">Installation and Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/50033/docs/newborns/basics">Super Mario Bros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/newborns/ui">User Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/newborns/checkoff">Checkoff</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/50033/docs/category/unity-for-babies">Unity for Babies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity for Babies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/50033/docs/category/unity-for-toddlers">Unity for Toddlers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity for Toddlers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/50033/docs/category/unity-for-children">Unity for Children</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity for Children&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/50033/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/50033/docs/category/unity-for-newborns"><span itemprop="name">Unity for Newborns</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Super Mario Bros</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Super Mario Bros</h1><section><img src="/50033/assets/images/2023-07-25-16-45-30-beaf8e61dca0170ea334bdeb429e018b.png" class="center_image_tcFY" style="width:100%"></section><br><p><em>Yes, this classic game. Who doesn&#x27;t know this game? Mario, our favourite plumber!</em></p><p>The overarching goal of our labs is to recreate basics this classic platform game: <strong>Super Mario Bros</strong> step by step while learning Unity&#x27;s features along the way. We will try to rebuild <a href="https://www.mariowiki.com/World_1-1_(Super_Mario_Bros.)" target="_blank" rel="noopener noreferrer">World 1-1</a> as closely as possible, although due to constraints of time, some features may be omitted. We then discuss a few technical details in depth: such as game and asset management, events, and callbacks.</p><blockquote><p>If you&#x27;ve never played this game before, <a href="https://supermarioplay.com" target="_blank" rel="noopener noreferrer">give it a try before proceeding</a>.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unity-basics-the-scene">Unity Basics: The Scene<a href="#unity-basics-the-scene" class="hash-link" aria-label="Direct link to Unity Basics: The Scene" title="Direct link to Unity Basics: The Scene">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gameobject">GameObject<a href="#gameobject" class="hash-link" aria-label="Direct link to GameObject" title="Direct link to GameObject">​</a></h3><p>Everything you see on the game scene is a <strong>GameObject</strong>. It is the <a href="https://docs.unity3d.com/ScriptReference/GameObject.html" target="_blank" rel="noopener noreferrer">base class</a> of all entities in the Unity Scene.</p><p><strong>Let’s add Mario to the scene.</strong> Right click in the Hierarchy tab and create a <strong>2D Object</strong> with <strong>Sprite</strong> component (doesn&#x27;t matter which shape you select). Change its name to “Mario”. Right now Mario doesnt seem like much. We need to do these later:</p><ol><li>Add Mario Sprite (<strong>image</strong>) to it, so it <em>looks</em> like Mario</li><li><strong>Control</strong> it (move it around): left, right, jump, down (enter pipe)</li><li>Add some basic <strong>animations</strong> and <strong>sound effects</strong></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="camera">Camera<a href="#camera" class="hash-link" aria-label="Direct link to Camera" title="Direct link to Camera">​</a></h3><p>Every scene has <strong>one</strong> Main Camera. The Main Camera renders what the player &quot;see&quot; in the Game window. If you place Mario GameObject at Position <code>(0,0,0)</code>, the Camera can &quot;see&quot; it if it&#x27;s placed at some Z-distance <em>away</em> from Mario, as follows:</p><section><img src="/50033/assets/images/2023-07-25-22-28-51-baf5ce09329cc94d1047c61315c6986f.png" class="center_image_tcFY" style="width:100%"></section><p>You can move the x, and y Transform Position of Mario GameObject and notice how the view at the Game window changes.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vXIg"><p>Toggle the 2D to 3D view in the Scene and familiarise yourself with navigation around the Scene. <strong>This is your Game World</strong>.</p><section><img src="/50033/assets/images/2023-07-26-16-59-08-6d1beba757718fdc327af2d332b9b95f.png" class="center_image_tcFY" style="width:100%"></section><p>Notice that over at the Inspector Area, there are three <strong>components</strong> attached at the MainCamera GameObject: <code>Transform</code> (to place the object in the Scene), <code>Camera</code>, and <code>Audio Listener</code>. The title pretty much explains itself.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h4><p>Right now we only have one &quot;Mario&quot; GameObject in the scene and that&#x27;s what the Game window shows. The blue color comes from the <code>Background</code> property of the Camera. You can set it to any other solid color if you want, or a Skybox.</p><blockquote><p>A skybox is a cube with a different texture on each face. When you use a skybox to render a sky, Unity essentially places your Scene <em>inside</em> the skybox cube. Unity renders the skybox first, so the sky always renders at the back. <a href="https://docs.unity3d.com/Manual/skyboxes.html" target="_blank" rel="noopener noreferrer">Read more about it here</a>.</p></blockquote><section><img src="/50033/assets/images/2023-07-26-17-06-08-6e8cab316062c37c6bd69aa33c8b1f17.png" class="center_image_tcFY" style="width:100%"></section><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="projection">Projection<a href="#projection" class="hash-link" aria-label="Direct link to Projection" title="Direct link to Projection">​</a></h4><p>There are <strong>two</strong> types of camera projection: Ortographic and Perspective, the name explains itself. Since we are working with 2D side-scrol platform game for these labs, we stick with orthographic projection.</p><blockquote><p><a href="https://docs.unity3d.com/Manual/class-Camera.html" target="_blank" rel="noopener noreferrer">Read more about Camera Component here. </a></p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="game-window">Game Window<a href="#game-window" class="hash-link" aria-label="Direct link to Game Window" title="Direct link to Game Window">​</a></h4><p>It is worth noting that you might want to set the <strong>Game aspect ratio</strong> under the <strong>Game tab</strong>.</p><ul><li>Click the drag-down menu as shown and select the option that you’re most comfortable with.</li><li>E.g: selecting “Free Aspect” means that your window size will affect the camera “view”.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mario-sprite">Mario Sprite<a href="#mario-sprite" class="hash-link" aria-label="Direct link to Mario Sprite" title="Direct link to Mario Sprite">​</a></h3><p>Open Assets &gt;&gt; Sprites and notice that we have provided you with various spritesheets: characters, enemies, mario, misc-3, and title.</p><blockquote><p>A sprite sheet is a bitmap image file that contains several smaller graphics in a tiled grid arrangement.</p></blockquote><p>Now click on Mario&#x27;s sprite, change its <code>Sprite Mode</code> to <strong>Multiple</strong>, and launch the Sprite Editor. Aftewards, you can define sections of the sprite that you want manually, or automatically. In the case of our Mario sprite, they&#x27;re not placed in regular spacing, so <a href="https://docs.unity3d.com/Manual/sprite-automatic-slicing.html" target="_blank" rel="noopener noreferrer"><strong>slicing</strong> them automatically</a> will not work. We need to <strong>manually</strong> slice each Sprite as such:</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-sprite-slice.mp4" type="video/mp4">Your browser does not support the video tag.</video></div><blockquote><p><em>Yes, it&#x27;s tedious.</em> Don&#x27;t worry, we will give you pre-sliced sprites later.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-up-inputs">Setting up Inputs<a href="#setting-up-inputs" class="hash-link" aria-label="Direct link to Setting up Inputs" title="Direct link to Setting up Inputs">​</a></h3><p>Go to <strong>Edit &gt;&gt; Project Settings</strong> and click on <strong>Input Manager</strong>.</p><p>We want to test if we can control the movement of Mario using the keys <code>a</code> and <code>d</code> for movement to the left and right respectively.</p><ul><li>Check if the setting of “horizontal” axis is correct as per the screenshot below.<ul><li>You can also add your own key bindings here and give it your own name.</li></ul></li><li>Later in the script, you can decide what to do if a certain named key is pressed.</li></ul><section><img src="/50033/assets/images/2023-07-27-08-12-28-08eb842e6b731af4bb1fffdaffa19029.png" class="center_image_tcFY" style="width:100%"></section><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scripting">Scripting<a href="#scripting" class="hash-link" aria-label="Direct link to Scripting" title="Direct link to Scripting">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="creating-a-script">Creating a Script<a href="#creating-a-script" class="hash-link" aria-label="Direct link to Creating a Script" title="Direct link to Creating a Script">​</a></h3><p>Right click inside the <strong>Scripts</strong> folder in the <strong>Project</strong> window, create a new C# script <code>PlayerMovement.cs</code>. Here we will programmatically control Mario. Open the script with an editor of your choice.</p><blockquote><p>Here, we use VSCode.</p></blockquote><p>You will see that there are two methods pre-made for you: <code>Start</code> and <code>Update</code>, and that your instance inherits <code>MonoBehaviour</code>:</p><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">PlayerMovement.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Generic</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">PlayerMovement</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// Start is called before the first frame update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Start</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// Update is called once per frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Update</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unity-order-execution-of-event-functions">Unity Order Execution of Event Functions.<a href="#unity-order-execution-of-event-functions" class="hash-link" aria-label="Direct link to Unity Order Execution of Event Functions." title="Direct link to Unity Order Execution of Event Functions.">​</a></h3><p>We can implement the <strong>event</strong> functions in the script that’s attached to a particular GameObject. Notice that in the script we created,</p><ul><li>It inherits from MonoBehaviour, the base class from which every <em>Unity script</em> derives. It offers some life cycle functions that makes it easier for us to manage our game.</li><li>It comes with <strong>two</strong> starting functions for you to implement if you want: <code>Start()</code> and <code>Update()</code>.</li></ul><p><code>Start()</code> is always called once in the beginning when the GameObject is instantiated, and then <code>Update()</code> is called per frame. <strong>This is where you want to implement your game logic.</strong> The diagram below shows the order of execution of event functions.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Important</div><div class="admonitionContent_vXIg"><p>These event functions run on a single Unity main thread. <a href="https://docs.unity3d.com/Manual/ExecutionOrder.html" target="_blank" rel="noopener noreferrer">Please read the official documentation</a>.</p></div></div><section><img src="https://docs.unity3d.com/uploads/Main/monobehaviour_flowchart.svg" class="center_image_tcFY , invert-color" style="width:100%"></section><p>Usually we don’t implement all of them. One of the more common ones to implement are: <code>Start, Update, FixedUpdate, LateUpdate, OnTrigger, OnCollision, OnMouse OnDestroy</code>, and some internal animation state machines if you use <code>AnimationControllers</code>. We will learn that in the next series.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unity-2d-physics-engine">Unity 2D Physics Engine<a href="#unity-2d-physics-engine" class="hash-link" aria-label="Direct link to Unity 2D Physics Engine" title="Direct link to Unity 2D Physics Engine">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="move-mario">Move Mario<a href="#move-mario" class="hash-link" aria-label="Direct link to Move Mario" title="Direct link to Move Mario">​</a></h3><p><strong>Let&#x27;s attempt to move Mario via the script.</strong> Firstly, Add <a href="https://docs.unity3d.com/Manual/class-Rigidbody2D.html" target="_blank" rel="noopener noreferrer"><code>Rigidbody2D</code> component</a> in the <strong>Inspector</strong> and set:</p><ul><li><code>Gravity Scale</code> to <code>0</code>,</li><li><code>Linear Drag</code> to <code>3</code></li><li><code>BodyType</code> to <code>Dynamic</code></li></ul><p>We can then control this component from the script. Add the following code inside <code>PlayerMovement.cs</code>:</p><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">PlayerMovement.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Generic</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">PlayerMovement</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> speed </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">10</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">Rigidbody2D</span><span class="token plain"> marioBody</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// Start is called before the first frame update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Start</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// Set to be 30 FPS</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        Application</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">targetFrameRate </span><span class="token operator" style="color:#e09142">=</span><span class="token plain">  </span><span class="token number" style="color:#e09142">30</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        marioBody </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token generic-method function" style="color:#9a86fd">GetComponent</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">Rigidbody2D</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// Update is called once per frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Update</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// FixedUpdate is called 50 times a second</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain">  </span><span class="token function" style="color:#9a86fd">FixedUpdate</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> moveHorizontal </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetAxisRaw</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Horizontal&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name">Vector2</span><span class="token plain"> movement </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector2</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">moveHorizontal</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        marioBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">AddForce</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">movement </span><span class="token operator" style="color:#e09142">*</span><span class="token plain"> speed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Add the script to Mario: Add Component &gt;&gt; Script &gt;&gt; <code>PlayerMovement</code>.</p><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>You can <strong>test run</strong> that now Mario can be moved to the left and to the right using the keys “a” and “d” respectively. You can change the value of <code>speed</code> in Mario&#x27;s Inspector under Script component.</p><p><em>However may not feel quite right. We will fix this later but first, lets learn about Unity event functions.</em></p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rigidbody2d-setting">RigidBody2D Setting<a href="#rigidbody2d-setting" class="hash-link" aria-label="Direct link to RigidBody2D Setting" title="Direct link to RigidBody2D Setting">​</a></h3><p><strong>The problem</strong>: Mario seems to be <em>sliding</em>. We would expect him to stop the moment we lift the key, wouldn’t we?</p><p>Setting the <code>BodyType</code> to <code>Dynamic</code> allows the <strong>physics engine to simulate</strong> forces, collisions, etc on the body. Since we’re adding Force to Mario’s body, it will obviously “glide” until the drag forces it to stop. We need to fix this.</p><blockquote><p>Setting BodyType to <code>Kinematic</code> allows movement unders simulation but under very specific user control, that is you want to compute its behavior yourself: simulating Physics under your own rule instead of relying on Unity&#x27;s Physics engine. Read the documentation <a href="https://docs.unity3d.com/Manual/Rigidbody2D-Kinematic.html" target="_blank" rel="noopener noreferrer">here</a>.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stop-mario">Stop Mario<a href="#stop-mario" class="hash-link" aria-label="Direct link to Stop Mario" title="Direct link to Stop Mario">​</a></h3><p>To prevent this “sliding” feature that’s not very intuitive for platform game like this, we need to</p><ul><li>Reduce Mario&#x27;s velocity as much as possible, even near <code>0</code> when key “a” or “d” is lifted up</li><li><strong>Clamp</strong> his speed to a maximum value so he doesn’t run faster and faster when we hold that “a” or “d” button.</li></ul><p>Add the global variable <code>maxSpeed</code> and implement <code>FixedUpdate()</code> in <code>PlayerMovement.cs</code>.</p><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> maxSpeed </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">20</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// FixedUpdate may be called once per frame. See documentation for details.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">FixedUpdate</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> moveHorizontal </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetAxisRaw</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Horizontal&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Mathf</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Abs</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">moveHorizontal</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name">Vector2</span><span class="token plain"> movement </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector2</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">moveHorizontal</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token comment" style="color:#6c6783">// check if it doesn&#x27;t go beyond maxSpeed</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">marioBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">velocity</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">magnitude </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> maxSpeed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">                    marioBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">AddForce</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">movement </span><span class="token operator" style="color:#e09142">*</span><span class="token plain"> speed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// stop</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetKeyUp</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;a&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetKeyUp</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;d&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token comment" style="color:#6c6783">// stop</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            marioBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">velocity </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Vector2</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">zero</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="make-mario-jump">Make Mario Jump<a href="#make-mario-jump" class="hash-link" aria-label="Direct link to Make Mario Jump" title="Direct link to Make Mario Jump">​</a></h2><p>Let’s make him jump to a fixed height whenever we press the <strong>Spacebar</strong> key once. We can leverage on the physics engine for this, but we need to <strong>enable gravity</strong>. Otherwise we have to make the Kinematics computation ourselves.</p><blockquote><p>Nobody’s stopping you to do that, but due to time constraints let’s not reinvent the wheel.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="enable-gravity">Enable Gravity<a href="#enable-gravity" class="hash-link" aria-label="Direct link to Enable Gravity" title="Direct link to Enable Gravity">​</a></h3><p>In Mario&#x27;s Inspector, set RigidBody2D property <code>GravityScale</code> to <code>1</code>.</p><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>If you press play now, Mario will fall to <strong>oblivion</strong>.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="collider2d">Collider2D<a href="#collider2d" class="hash-link" aria-label="Direct link to Collider2D" title="Direct link to Collider2D">​</a></h3><p>We need to add some sort of a “floor” to prevent him from falling down (via collision). A GameObject will not collide with each other unless they have the <code>Collider</code> component attacked to it.</p><ol><li><p>Create a new 2D Sprite GameObject and name it Ground.</p></li><li><p>Add <code>BoxCollider2D</code> component to it:</p><ul><li>Enable <code>Auto Tiling</code> property</li><li>This allows the Collider to follow the SpriteRenderer&#x27;s tiling properties</li></ul></li><li><p>Add a <code>Tag</code> called <code>Ground</code></p></li><li><p>Set its <code>Transform</code> to:</p><ul><li>Rotation (0,0,0)</li><li>Scale (1,1,0)</li><li>Position: Anywhere below y-axis of Mario</li></ul></li></ol><p>Now we want some sort of Ground Sprite first, so you can go and edit <code>misc-3</code> Sprite and extract a little Ground sprite from it. Name it &quot;Ground Brown&quot;. Then, set the following <strong>properties</strong> on <code>misc-3</code> <strong>Texture</strong>:</p><ul><li><a href="https://docs.unity3d.com/ScriptReference/SpriteMeshType.html" target="_blank" rel="noopener noreferrer">Mesh Type</a> to <code>Full Rect</code></li><li><a href="https://docs.unity3d.com/ScriptReference/TextureWrapMode.Repeat.html" target="_blank" rel="noopener noreferrer">Wrap mode</a> to <code>Repeat</code></li></ul><blockquote><p>When we drag .png files into <code>Assets/Sprite</code> folder, it is automatically converted into Textures. We will learn more about it later, but <a href="https://docs.unity3d.com/Manual/Textures.html" target="_blank" rel="noopener noreferrer">give the docs a read</a>. The <code>Wrap Mode</code> property allows us to automatically &quot;repeat&quot; the ground tiles as we scale the Ground GameObject.</p></blockquote><section><img src="/50033/assets/images/2023-07-27-15-58-49-169c53b29994570b4ee48c784a63942f.png" class="center_image_tcFY" style="width:100%"></section><p>Go back to the Sprite Renderer component of Ground GameObject, and set the following properties:</p><ul><li>Draw Mode: <code>Tiled</code></li><li>Size: Width of <code>20</code></li></ul><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_vXIg"><p>Use the Size property of Sprite Renderer if you want to adjust the Ground&#x27;s width or height. Do NOT use Transform&#x27;s scale. Otherwise, the Collider2D will not be able to properly tell the boundaries of the GameObject.</p></div></div><section><img src="/50033/assets/images/2023-07-27-16-01-25-41e3bc973f1e6e842e053bace8f795fd.png" class="center_image_tcFY" style="width:100%"></section><p>Finally, also <strong>add</strong> a <code>BoxCollider2D</code> to Mario so that they can &quot;collide&quot; and prevents him from falling to oblivion. You can press <code>Edit Collider</code> in the component to adjust the collider edges to match Mario&#x27;s sprite.</p><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>Test it and you should see Mario not falling to oblivion anymore.</p></div></div><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-collide-ground.mov" type="video/mp4">Your browser does not support the video tag.</video></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="oncollision2d-and-double-jump">OnCollision2D and Double Jump<a href="#oncollision2d-and-double-jump" class="hash-link" aria-label="Direct link to OnCollision2D and Double Jump" title="Direct link to OnCollision2D and Double Jump">​</a></h3><p>Now we implement the <code>Collider</code> <strong>callback</strong> function called <code>OnCollision2D</code> in <code>PlayerMovement.cs</code>. The idea is that if Mario is on the ground, and if spacebar is pressed, we will add an <a href="https://docs.unity3d.com/ScriptReference/ForceMode2D.Impulse.html" target="_blank" rel="noopener noreferrer">Impulse</a> force <strong>upwards</strong>. Pressing spacebar again should <span class="orange-bold">not</span> cause Mario to double jump.</p><p>We need to have some kind of <strong>state</strong> variable for this, and an upward &quot;speed&quot;. Add the following code to <code>PlayerMovement.cs</code>:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">PlayerMovement.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> upSpeed </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">10</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> onGroundState </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">OnCollisionEnter2D</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Collision2D</span><span class="token plain"> col</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">col</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">CompareTag</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Ground&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> onGroundState </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">FixedUpdate</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// other instructions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetKeyDown</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;space&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> onGroundState</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        marioBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">AddForce</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Vector2</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">up </span><span class="token operator" style="color:#e09142">*</span><span class="token plain"> upSpeed</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> ForceMode2D</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Impulse</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        onGroundState </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>Test your jumping Mario. You should have something like this.</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-jump.mp4" type="video/mp4">Your browser does not support the video tag.</video></div></div></div><p>You can improve the controls and adjust the parameters: <code>speed</code>, <code>upSpeed</code>, and <code>maxSpeed</code> accordingly to get the right “<strong>feel</strong>”. It can take quite a lot of time to get the <strong>kinesthetics</strong> right, but it is an important part of your journey in making a good game.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_vXIg"><p>Focus more on these details instead of “expanding” your game. We don’t require you to create a 1-hour long game, but rather a short and well designed game. Invest your time wisely.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="beautify">Beautify<a href="#beautify" class="hash-link" aria-label="Direct link to Beautify" title="Direct link to Beautify">​</a></h2><p>The following shows a simple screenshot of <a href="https://www.mariowiki.com/World_1-1_%28Super_Mario_Bros.%29" target="_blank" rel="noopener noreferrer"><code>World-1-1</code> of Super Mario Bros</a>. Let&#x27;s try to recreate a part of it as much as possible before advancing.</p><section><img src="/50033/assets/images/2023-07-27-16-16-36-db70950e308e66b536cf67d580622280.png" class="center_image_tcFY" style="width:100%"></section><p>We need the following Sprites. You can slowly slice and create them all from <code>misc-3</code> Sprite:</p><ol><li>Big Hill, small hill</li><li>3-shrubs, 1-shrub</li><li>1, 2, and 3 clouds</li><li>Pipe head, pipe body</li><li>Goombas</li><li>Brick</li><li>Question Blocks</li><li>Magic Mushroom</li><li>Coin</li><li>Brick</li></ol><details class="details_lb9f alert alert--info details_b_Ee collapsible_hOX2" data-collapsed="true"><summary mdxtype="summary" style="font-weight:bold">A Shortcut</summary><div><div class="collapsibleContent_i85q">You can <a href="https://www.dropbox.com/scl/fo/vwoh9vizstlnmzi5clyrw/h?rlkey=c37jshqpwbikxhpzltcppd532&amp;dl=0" target="_blank" rel="noopener noreferrer">download the texture metadata from here</a>. Then, paste all these <code>.meta</code> files under <code>Assets/Sprites</code>. Don&#x27;t forget to set Texture&#x27;s Mesh Type and Wrap Mode as above to enable tiling.<div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/sprite-import-meta.mp4" type="video/mp4">Your browser does not support the video tag.</video></div></div></div></details><p>We shall have this before proceeding:</p><section><img src="/50033/assets/images/2023-07-27-17-08-26-df421306245392d1b1122e6487c637a9.png" class="center_image_tcFY" style="width:100%"></section><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="housekeeping-tips">Housekeeping Tips<a href="#housekeeping-tips" class="hash-link" aria-label="Direct link to Housekeeping Tips" title="Direct link to Housekeeping Tips">​</a></h3><p>You might want to set the Ground Gameobject&#x27;s Sprite Renderer &gt;&gt; Additional Settings &gt;&gt; Order in Layer property to <code>1</code> (instead of <code>0</code>) so that static assets like Mountains, Shrubs, etc can be &quot;behind&quot; the ground.</p><section><img src="/50033/assets/images/2023-07-27-17-09-42-35b4f37475970644dbbb463c1855329f.png" class="center_image_tcFY" style="width:100%"></section><p>You might also want to <strong>group</strong> related gameobjects together as shown in the Screenshot&#x27;s Hierarchy.</p><p>Also, you can &quot;drag&quot; and move GameObjects together in the scene.</p><p>Here&#x27;s a speedup recording demonstrating all of the above:</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/background-setup.mp4" type="video/mp4">Your browser does not support the video tag.</video></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flip-mario">Flip Mario<a href="#flip-mario" class="hash-link" aria-label="Direct link to Flip Mario" title="Direct link to Flip Mario">​</a></h2><p>Now let’s fix mario’s facing. If he is going to the left, he should be facing the left side and vice versa. The direction he’s facing should conform to the <strong>last pressed key</strong>.</p><p>We can do this by enabling the <code>flipX</code> property of its <code>SpriteRenderer</code> whenever key “a” is pressed, and disabling it whenever key “d” is pressed. We also have to control the <code>SpriteRenderer</code> component via the script. You can pretty much get any component via <code>GetComponent&lt;type&gt;()</code> method in the script attached to the game object.</p><p>Add the following changes to <code>PlayerMovement.cs</code>:</p><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">PlayerMovement.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// global variables</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteRenderer</span><span class="token plain"> marioSprite</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> faceRightState </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Start</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        marioSprite </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token generic-method function" style="color:#9a86fd">GetComponent</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">SpriteRenderer</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// other instructions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Update</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">              </span><span class="token comment" style="color:#6c6783">// toggle state</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetKeyDown</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;a&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> faceRightState</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">          faceRightState </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">          marioSprite</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">flipX </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Input</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetKeyDown</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;d&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">!</span><span class="token plain">faceRightState</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">          faceRightState </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">          marioSprite</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">flipX </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token comment" style="color:#6c6783">// other instructions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vXIg"><p>We do not implement the flipping of Sprite under <code>FixedUpdate</code> since it has <strong>nothing</strong> to do with the Physics Engine.</p></div></div><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>Your Mario will now face right and left accordingly as &quot;a&quot; or &quot;d&quot; key is pressed.</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/mario-flip.mp4" type="video/mp4">Your browser does not support the video tag.</video></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="add-obstacles">Add Obstacles<a href="#add-obstacles" class="hash-link" aria-label="Direct link to Add Obstacles" title="Direct link to Add Obstacles">​</a></h2><p>There are many obstacles that can be added to a game: enemies, physical obstacles, etc.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="goombas">Goombas<a href="#goombas" class="hash-link" aria-label="Direct link to Goombas" title="Direct link to Goombas">​</a></h3><p>Now its time to create the Enemy.</p><ul><li>Create an empty GameObject onto the scene, name it <code>Enemies</code></li><li>Create a child GameObject under <code>Enemy</code>, name it Goomba:<ul><li>add <code>SpriteRenderer</code> Component,<ul><li>Set <code>Order in Layer</code> as <code>2</code> because we want it to be in front of the static background images and the ground.</li></ul></li><li>add <code>Rigidbody2D</code> and <code>Collider2D</code> Components</li></ul></li><li>Put <code>brown_goomba_1</code> as its sprite, edit its <code>Transform</code> so it is placed beside Mario</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="move-goomba">Move Goomba<a href="#move-goomba" class="hash-link" aria-label="Direct link to Move Goomba" title="Direct link to Move Goomba">​</a></h4><p>Now we want Goomba to patrol <strong>left</strong> and <strong>right</strong> up to a certain offset X from its starting position. Create a new script called <code>EnemyMovement.cs</code> with the following content:</p><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">EnemyMovement.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Generic</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">EnemyMovement</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> originalX</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> maxOffset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">5.0f</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">float</span><span class="token plain"> enemyPatroltime </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">2.0f</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> moveRight </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">Vector2</span><span class="token plain"> velocity</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">Rigidbody2D</span><span class="token plain"> enemyBody</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Start</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        enemyBody </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token generic-method function" style="color:#9a86fd">GetComponent</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">Rigidbody2D</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// get the starting position</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        originalX </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> transform</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">position</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">x</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token function" style="color:#9a86fd">ComputeVelocity</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">ComputeVelocity</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        velocity </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector2</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">moveRight</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">*</span><span class="token plain"> maxOffset </span><span class="token operator" style="color:#e09142">/</span><span class="token plain"> enemyPatroltime</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Movegoomba</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        enemyBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">MovePosition</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">enemyBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">position </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> velocity </span><span class="token operator" style="color:#e09142">*</span><span class="token plain"> Time</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">fixedDeltaTime</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Update</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">Mathf</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Abs</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">enemyBody</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">position</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">x </span><span class="token operator" style="color:#e09142">-</span><span class="token plain"> originalX</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> maxOffset</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token comment" style="color:#6c6783">// move goomba</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token function" style="color:#9a86fd">Movegoomba</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token comment" style="color:#6c6783">// change direction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            moveRight </span><span class="token operator" style="color:#e09142">*=</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token function" style="color:#9a86fd">ComputeVelocity</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token function" style="color:#9a86fd">Movegoomba</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The idea is to allow the enemy to patrol up to <code>5.0</code> units to <em>the left and to the right</em>, and <strong>change</strong> direction accordingly when the max offset distance is reached. We also want to control its <code>speed</code>:</p><ul><li><code>If</code> goomba isn’t too far away from its starting position yet, move it to the designated direction</li><li><code>Else</code>, flip direction</li></ul><p>We can compute the <strong>required</strong> velocity by <strong>dividing</strong> supposed distance travelled with time, and then compute the position at each <code>Time.fixedDeltaTime</code>. Then, we can move the enemy to the calculated position: <strong><code>original_position_vector + velocity_vector * delta_time</code></strong></p><p>Finally, since we do not need to perform a full-blown physics simulation on the enemy, <strong>we can set its <code>RigidBody2D</code> <code>BodyType</code> to <code>Kinematic</code>.</strong> We are simply moving it to patrol around desired location, and later on to detect “collision”.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_vXIg"><p>Make sure to place Goomba nicely above the Ground. Gravity <strong>does not apply</strong> to it anymore.</p></div></div><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>Now is a good time to test. Notice how the Goomba &quot;pushes&quot; Mario. That&#x27;s because both objects have colliders in it.</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-1/goomba-setup.mp4" type="video/mp4">Your browser does not support the video tag.</video></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="collision-between-goomba-and-mario">Collision between Goomba and Mario<a href="#collision-between-goomba-and-mario" class="hash-link" aria-label="Direct link to Collision between Goomba and Mario" title="Direct link to Collision between Goomba and Mario">​</a></h3><p>We want Mario to be “<strong>damaged</strong>” when it collides with Goomba, and we do not need the two bodies to push each other or simulate Physics. The way to do this is to set the collider attached at the enemy’s GameObject as a <a href="https://docs.unity3d.com/ScriptReference/Collider-isTrigger.html" target="_blank" rel="noopener noreferrer">Trigger</a>.</p><blockquote><p>Tick that <code>IsTrigger</code> option in <code>BoxCollider2D</code> element. Also, change Goomba&#x27;s <strong>Tag</strong> to <code>Enemy</code> (<strong>create</strong> it).</p></blockquote><div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>If a <code>Collider</code> collides with another <code>Collider</code> that is a <code>Trigger</code>, then “collision effect” will <strong>not</strong> be computed, and rather the callback <code>OnTriggerEnter</code> will be invoked (on <strong>both</strong> GameObject).</p></div></div><p>Implement the callback function <code>OnTriggerEnter2D</code> in <code>PlayerMovement.cs</code>, and <code>EnemyMovement.cs</code>:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">PlayerMovement.cs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">EnemyMovement.cs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">OnTriggerEnter2D</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Collider2D</span><span class="token plain"> other</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">other</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">CompareTag</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Enemy&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">          Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Collided with goomba!&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">OnTriggerEnter2D</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Collider2D</span><span class="token plain"> other</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">     Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">other</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0zm23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19l34.98-20.2z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>When you test it, you will see the following printout in the <code>Console</code>. When the game starts, Goomba printed <code>Ground</code> because it collided with the <code>Ground</code>. Notice how this is only printed <strong>once</strong> (upon initial collision and <span class="orange-bold">not continuously</span>). Then, <strong>both</strong> <code>OnTriggerEnter2D</code> methods are called when Mario and Goomba collides.</p><section><img src="/50033/assets/images/2023-07-28-11-26-57-cfbde60d8155b622701d060ca8906111.png" class="center_image_tcFY" style="width:100%"></section></div></div><p>Eventually, this collision will cause Mario to lose lives or game to be over. Technically, you can implement this logic once in any of the two scripts, but since it affects Mario (and not Goomba), it makes more sense to do it on <code>PlayerMovement.cs</code> instead. We now need some sort of UI elements to indicate score or HP or &quot;Game Over&quot; text. Let&#x27;s venture into how UI Element works.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/50033/docs/newborns/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation and Setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/50033/docs/newborns/ui"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User Interface</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#unity-basics-the-scene" class="table-of-contents__link toc-highlight">Unity Basics: The Scene</a><ul><li><a href="#gameobject" class="table-of-contents__link toc-highlight">GameObject</a></li><li><a href="#camera" class="table-of-contents__link toc-highlight">Camera</a></li><li><a href="#mario-sprite" class="table-of-contents__link toc-highlight">Mario Sprite</a></li><li><a href="#setting-up-inputs" class="table-of-contents__link toc-highlight">Setting up Inputs</a></li></ul></li><li><a href="#scripting" class="table-of-contents__link toc-highlight">Scripting</a><ul><li><a href="#creating-a-script" class="table-of-contents__link toc-highlight">Creating a Script</a></li><li><a href="#unity-order-execution-of-event-functions" class="table-of-contents__link toc-highlight">Unity Order Execution of Event Functions.</a></li></ul></li><li><a href="#unity-2d-physics-engine" class="table-of-contents__link toc-highlight">Unity 2D Physics Engine</a><ul><li><a href="#move-mario" class="table-of-contents__link toc-highlight">Move Mario</a></li><li><a href="#rigidbody2d-setting" class="table-of-contents__link toc-highlight">RigidBody2D Setting</a></li><li><a href="#stop-mario" class="table-of-contents__link toc-highlight">Stop Mario</a></li></ul></li><li><a href="#make-mario-jump" class="table-of-contents__link toc-highlight">Make Mario Jump</a><ul><li><a href="#enable-gravity" class="table-of-contents__link toc-highlight">Enable Gravity</a></li><li><a href="#collider2d" class="table-of-contents__link toc-highlight">Collider2D</a></li><li><a href="#oncollision2d-and-double-jump" class="table-of-contents__link toc-highlight">OnCollision2D and Double Jump</a></li></ul></li><li><a href="#beautify" class="table-of-contents__link toc-highlight">Beautify</a><ul><li><a href="#housekeeping-tips" class="table-of-contents__link toc-highlight">Housekeeping Tips</a></li></ul></li><li><a href="#flip-mario" class="table-of-contents__link toc-highlight">Flip Mario</a></li><li><a href="#add-obstacles" class="table-of-contents__link toc-highlight">Add Obstacles</a><ul><li><a href="#goombas" class="table-of-contents__link toc-highlight">Goombas</a></li><li><a href="#collision-between-goomba-and-mario" class="table-of-contents__link toc-highlight">Collision between Goomba and Mario</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Course Materials</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/50033/docs/syllabus">Lab Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/50033/resources/intro">Resources</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contribute</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/natalieagus/2023-50033" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 50.033 Game Design and Development</div></div></div></footer></div>
<script src="/50033/assets/js/runtime~main.766988e7.js"></script>
<script src="/50033/assets/js/main.306b9477.js"></script>
</body>
</html>