<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-children/singletons" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">The Singleton Pattern | Game Development and Design</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://natalieagus.github.io/50033/docs/children/singletons"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The Singleton Pattern | Game Development and Design"><meta data-rh="true" name="description" content="The lab handout uses Super Mario Bros as assets to demonstrate certain Unity features and functionalities. You are free to follow along and submit it for checkoff, OR you can also create an entirely new project to demonstrate the requested feature(s)."><meta data-rh="true" property="og:description" content="The lab handout uses Super Mario Bros as assets to demonstrate certain Unity features and functionalities. You are free to follow along and submit it for checkoff, OR you can also create an entirely new project to demonstrate the requested feature(s)."><link data-rh="true" rel="icon" href="/50033/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://natalieagus.github.io/50033/docs/children/singletons"><link data-rh="true" rel="alternate" href="https://natalieagus.github.io/50033/docs/children/singletons" hreflang="en"><link data-rh="true" rel="alternate" href="https://natalieagus.github.io/50033/docs/children/singletons" hreflang="x-default"><script src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython_stdlib.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/50033/assets/css/styles.8a536349.css">
<script src="/50033/assets/js/runtime~main.3b2ba789.js" defer="defer"></script>
<script src="/50033/assets/js/main.d1cd41ca.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/50033/img/home-logo.svg"><link rel="preload" as="image" href="/50033/assets/images/2023-08-20-17-37-39-ce6a91a608f4fb18726c6e499afd9801.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-23-16-06-26-4dfdfdb6d49ffd7304c37e68f8abf1c3.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-23-16-06-57-e6e1c352d9e043a4d5086b507663cf5d.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-23-16-20-39-509973278303de7b20c754bc4b9bde14.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-23-17-22-57-869930b14b51dfa607d4d63f0020c356.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-23-17-23-38-17e832b8aeac1673a756bb736e1f7997.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-23-17-43-35-f92270941a15b70d8bb1fe5dc7c68bf3.png"><link rel="preload" as="image" href="/50033/assets/images/2023-08-24-10-29-44-d6b8a791e8da67d833a2842d578f3f6d.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_jvwV"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/50033/"><div class="navbar__logo"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">50.033</b></a><a class="navbar__item navbar__link" href="/50033/about/intro">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/50033/docs/syllabus">Lab Docs</a><a class="navbar__item navbar__link" href="/50033/resources/uidb">Resources</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_H2mL"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/natalieagus/50033" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/50033/"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>50.033</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden"><a class="menu__link" href="/50033/docs/quizdemo">Quiz Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/50033/docs/syllabus">Syllabus</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/50033/docs/category/unity-for-newborns">Unity for Newborns</a><button aria-label="Expand sidebar category &#x27;Unity for Newborns&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/50033/docs/category/unity-for-babies">Unity for Babies</a><button aria-label="Expand sidebar category &#x27;Unity for Babies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/50033/docs/category/unity-for-toddlers">Unity for Toddlers</a><button aria-label="Expand sidebar category &#x27;Unity for Toddlers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/50033/docs/category/unity-for-children">Unity for Children</a><button aria-label="Collapse sidebar category &#x27;Unity for Children&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/50033/docs/children/singletons">The Singleton Pattern</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/children/static">C# Quick Tour</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/children/scriptableobjects">Scriptable Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/children/coroutines">Polishing with Coroutines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/docs/children/checkoff">Checkoff</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/50033/docs/category/unity-for-teens">Unity for Teens</a><button aria-label="Expand sidebar category &#x27;Unity for Teens&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/50033/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/50033/docs/category/unity-for-children"><span itemprop="name">Unity for Children</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">The Singleton Pattern</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>The Singleton Pattern</h1></header>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Lab Checkoff Requrements</div><div class="admonitionContent_vXIg"><p>The lab handout uses Super Mario Bros as assets to demonstrate certain Unity features and functionalities. You are free to follow along and submit it for checkoff, <strong>OR you can also create an entirely new project to demonstrate the requested feature(s)</strong>.</p><p>The requirement(s) for the lab checkoff can be found <a href="/50033/docs/children/checkoff">here</a>.</p></div></div>
<p>When we switch from one game scene to another, we will <span class="orange-bold">destroy</span> all GameObjects (along with its components) in the previous scene. Sometimes we want some GameObjects to persist, or more specifically: its data or state. We can create a script that implement the Singleton pattern so that the GameObject (along with its children) is <strong>not</strong> destroyed upon loading to a new Scene. Note that this will only apply on <span class="orange-bold">root</span> GameObject. Before we begin, create a new scene and name it <code>World 1-2</code>. You don&#x27;t have to follow exactly <a href="https://nesmaps.com/maps/SuperMarioBrothers/SuperMarioBrosWorld1-2Map.html" target="_blank" rel="noopener noreferrer">how World 1-2 looks</a>, but here&#x27;s a sample:</p>
<section><img src="/50033/assets/images/2023-08-20-17-37-39-ce6a91a608f4fb18726c6e499afd9801.png" class="center_image_tcFY" style="width:100%"></section>
<p>To allow Unity to know which Scenes are involved for run test and build, we need to add them to the Build Setting. Go to File &gt;&gt; Build Setting and add Scenes (drag it to this Build Setting window) that are relevant to your game:</p>
<div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-4/build-setting.mp4" type="video/mp4">Your browser does not support the video tag.</video></div>
<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>The Singleton Pattern</div><div class="admonitionContent_vXIg"><p>The singleton pattern is a way to ensure a class has only a single globally accessible instance available at ALL times. Behaving much like a regular static class but with some advantages. This is very useful for making global manager type classes that hold global variables and functions that many other classes need to access.</p></div></div>
<p>In the <code>Awake()</code> function of any script, you can add the following instructions to make it a Singleton:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token comment" style="color:#6c6783">// Property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain">  </span><span class="token class-name">MonoBehaviour</span><span class="token plain"> _instance</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Getter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain">  </span><span class="token return-type class-name">MonoBehaviour</span><span class="token plain"> instance</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">get</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain">  _instance</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain">  </span><span class="token function" style="color:#9a86fd">Awake</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token comment" style="color:#6c6783">// check if the _instance is not this, means it&#x27;s been set before, return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">_instance  </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain">  </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain">  _instance  </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">this</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token function" style="color:#9a86fd">Destroy</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token keyword" style="color:#ffcc99">this</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token comment" style="color:#6c6783">// otherwise, this is the first time this instance is created</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	_instance  </span><span class="token operator" style="color:#e09142">=</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">this</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token comment" style="color:#6c6783">// add to preserve this object open scene loading</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token function" style="color:#9a86fd">DontDestroyOnLoad</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token keyword" style="color:#ffcc99">this</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// only works on root gameObjects</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>Note that if <code>this.gameObject</code> is NOT root level GameObject, it will not work. The editor will warn you: <code>DontDestroyOnLoad</code> only work for root GameObjects or components on root GameObjects.</p></div></div>
<p>Adding the above <em>static property</em> and Singleton pattern will turn any gameObject to be persistent between screen changing.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="c-static-variable">C#: Static Variable<a href="#c-static-variable" class="hash-link" aria-label="Direct link to C#: Static Variable" title="Direct link to C#: Static Variable">​</a></h3>
<p>The <code>static</code> keyword allows us to gain access to the instance via the <strong>Class</strong> name, and there will only be one instance that can be linked to this variable Instance at any given time.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="c-properties">C#: Properties<a href="#c-properties" class="hash-link" aria-label="Direct link to C#: Properties" title="Direct link to C#: Properties">​</a></h3>
<p>Properties allow access control to a class variable. Writing C# getter and setter properties are very simple, here&#x27;s a quick example:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token comment" style="color:#6c6783">//Member variables can be referred to as fields.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain">  </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> _healthPoints</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">//healthPoints is a basic property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> healthPoints </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">get</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token comment" style="color:#6c6783">//Some other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token comment" style="color:#6c6783">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> _healthPoints</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">set</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token comment" style="color:#6c6783">// Some other code, check etc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token comment" style="color:#6c6783">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		_healthPoints </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">value</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// value is the amount passed by the setter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// usage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">player</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">healthPoints</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// this will call instructions under get{}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">player</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">healthPoints </span><span class="token operator" style="color:#e09142">+=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">20</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// this will call instructions under set{}, where value is 20</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Optionally, you can have a <code>private</code> setter to disallow other classes from using it.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="singleton-class">Singleton Class<a href="#singleton-class" class="hash-link" aria-label="Direct link to Singleton Class" title="Direct link to Singleton Class">​</a></h2>
<p>If you have several gameObjects to stay persistent, you can implement the above instructions on the relevant scripts, but this will result in many boilerplate code. To avoid this, we can create a dedicated script that can be inherited by any other scripts and turning them into Singletons.</p>
<p>Create a new script called Singleton.cs, and declare the following properties:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">Singleton.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">Singleton</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">where</span><span class="token plain">  </span><span class="token class-name">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain">  </span><span class="token class-name">T</span><span class="token plain"> _instance</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain">  </span><span class="token return-type class-name">T</span><span class="token plain"> instance</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token keyword" style="color:#ffcc99">get</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">			</span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain">  _instance</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">virtual</span><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain">  Awake </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Singleton Awake called&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">_instance  </span><span class="token operator" style="color:#e09142">==</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">			_instance  </span><span class="token operator" style="color:#e09142">=</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">this</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">as</span><span class="token plain"> </span><span class="token class-name">T</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">			DontDestroyOnLoad </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token keyword" style="color:#ffcc99">this</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">			Destroy </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>virtual</code> method allows override by members inheriting this class, and the member can utilise this base Singleton class as such:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">Singleton</span><span class="token type-list class-name punctuation" style="color:#6c6783">&lt;</span><span class="token type-list class-name">Foo</span><span class="token type-list class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token keyword" style="color:#ffcc99">override</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain">  </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain">  </span><span class="token function" style="color:#9a86fd">Awake</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token keyword" style="color:#ffcc99">base</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Awake</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;awake called&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">		</span><span class="token comment" style="color:#6c6783">// other instructions that needs to be done during Awake</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">	</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gamemanager-as-singleton">GameManager as Singleton<a href="#gamemanager-as-singleton" class="hash-link" aria-label="Direct link to GameManager as Singleton" title="Direct link to GameManager as Singleton">​</a></h3>
<p>We are now ready to convert our <code>GameManager</code> into a Singleton as follows:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">GameManager.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">GameManager</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">Singleton</span><span class="token type-list class-name punctuation" style="color:#6c6783">&lt;</span><span class="token type-list class-name">GameManager</span><span class="token type-list class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// other instructions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This means that the GameManager instance will <strong>not be destroyed</strong> upon scene change. Feel free to adjust the title of the script to suit your own usage.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="changing-scene">Changing Scene<a href="#changing-scene" class="hash-link" aria-label="Direct link to Changing Scene" title="Direct link to Changing Scene">​</a></h2>
<p>Let&#x27;s test the Singleton Pattern by changing scene from World-1-1 to World-1-2. Prepare the <code>castle</code> at the end of World-1-1 to contain an <strong>edge collider</strong>.</p>
<ul>
<li>Create and set castle&#x27;s Layer to <code>interactive</code></li>
<li>Set the <code>IsTrigger</code> property of EdgeCollider2D</li>
</ul>
<section><img src="/50033/assets/images/2023-08-23-16-06-26-4dfdfdb6d49ffd7304c37e68f8abf1c3.png" class="center_image_tcFY" style="width:100%"></section>
<p>To make Mario appear like he&#x27;s &quot;entering&quot; the castle, you can set the <code>Sorting Layer</code> of the right side of the castle to be above Mario&#x27;s sprite (Default):</p>
<section><img src="/50033/assets/images/2023-08-23-16-06-57-e6e1c352d9e043a4d5086b507663cf5d.png" class="center_image_tcFY" style="width:100%"></section>
<p>Then create new a script called <code>NextScene.cs</code> and attach it to the Castle. Set <code>nextSceneName</code> as <code>World-1-2</code> in the inspector (matching exactly the next scene&#x27;s name).</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">NextScene.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Generic</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">SceneManagement</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">NextScene</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> nextSceneName</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">OnTriggerEnter2D</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Collider2D</span><span class="token plain"> other</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">other</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">tag </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Player&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Change scene!&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            SceneManager</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">LoadSceneAsync</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">nextSceneName</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> LoadSceneMode</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Single</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<section><img src="/50033/assets/images/2023-08-23-16-20-39-509973278303de7b20c754bc4b9bde14.png" class="center_image_tcFY" style="width:100%"></section>
<p>We utilise the function <code>LoadSceneAsync</code> from <code>UnityEngine.SceneManagement.SceneManager</code>. Please consult its <a href="https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager.html" target="_blank" rel="noopener noreferrer">documentation</a>.</p>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Why Async?</div><div class="admonitionContent_vXIg"><p><code>LoadSceneAsync</code> loads the Scene asynchronously in the background. The name of the Scene to load <strong>can be case insensitive</strong>. There also exist the synchronous counterpart: <code>LoadScene</code>. To avoid pauses or performance hiccups while loading in most cases, you should use <code>LoadSceneAsync</code>.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="loadscenemode">LoadSceneMode<a href="#loadscenemode" class="hash-link" aria-label="Direct link to LoadSceneMode" title="Direct link to LoadSceneMode">​</a></h3>
<p>There are <a href="https://docs.unity3d.com/ScriptReference/SceneManagement.LoadSceneMode.html" target="_blank" rel="noopener noreferrer">two modes</a> to load a scene: <strong>single</strong> and <strong>additive</strong>.</p>
<ul>
<li>In <strong>single</strong> mode, all currently loaded Scene will be closed before loading the new scene. This is suitable when you are moving a player from one region to another.</li>
<li>In <strong>additive mode</strong>, we add the scene to currently loaded scene. This is suitable when you want to open fullscreen GUI for players to change gears, skill points, etc.</li>
</ul>
<div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 122.88 122.88"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0m23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>You should test your project and confirm that Mario can transition between scenes <strong>smoothly</strong>. Ensure that the castle in World-1-2 does <span class="orange-bold">NOT</span> have the <code>NextScene</code> script enabled that caused him to perpetually restart World-1-2.</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-4/scene-change.mp4" type="video/mp4">Your browser does not support the video tag.</video></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dontdestroyonload-consequences">DontDestroyOnLoad Consequences<a href="#dontdestroyonload-consequences" class="hash-link" aria-label="Direct link to DontDestroyOnLoad Consequences" title="Direct link to DontDestroyOnLoad Consequences">​</a></h2>
<p>We are not out of the woods yet. The GameManager was made to refer to <em>instances</em> in World-1-1 scene as such:</p>
<section><img src="/50033/assets/images/2023-08-23-17-22-57-869930b14b51dfa607d4d63f0020c356.png" class="center_image_tcFY" style="width:100%"></section>
<p>These instances will be destroyed and <strong>new</strong> one will be created in World-1-2. This caused GameManager to have missing references:</p>
<section><img src="/50033/assets/images/2023-08-23-17-23-38-17e832b8aeac1673a756bb736e1f7997.png" class="center_image_tcFY" style="width:100%"></section>
<div class="theme-admonition theme-admonition-warning alert alert--danger admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_vXIg"><p><code>Mario</code> in World-1-1 is <span class="orange-bold">not</span> the same as <code>Mario</code> in World-1-2.</p></div></div>
<p>As a consequence, we need to turn all root GameObjects that refers to World-1-1 GameManager instance into Singletons as well.</p>
<ol>
<li>All scripts on Mario: <code>PlayerMovement.cs</code> and <code>ActionManager.cs</code> must inherit <code>Singleton</code></li>
<li>All scriupts on Canvas: <code>HUDManager.cs</code> must also inherit <code>Singleton</code></li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenemanageractivescenechanged"><code>SceneManager.activeSceneChanged</code><a href="#scenemanageractivescenechanged" class="hash-link" aria-label="Direct link to scenemanageractivescenechanged" title="Direct link to scenemanageractivescenechanged">​</a></h3>
<p>Since Mario persists, we need to transform Mario back to the beginning position in World-1-2. We need to subscribe to the event <code>SceneManager.activeSceneChanged</code> inside <code>PlayerMovement.cs</code> to reset Mario&#x27;s starting position upon new scene being loaded:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">PlayerMovement.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">SceneManagement</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Start</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// other instructions</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// subscribe to scene manager scene change</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        SceneManager</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">activeSceneChanged </span><span class="token operator" style="color:#e09142">+=</span><span class="token plain"> SetStartingPosition</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">SetStartingPosition</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Scene</span><span class="token plain"> current</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name">Scene</span><span class="token plain"> next</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">next</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">name </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;World-1-2&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token comment" style="color:#6c6783">// change the position accordingly in your World-1-2 case</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">this</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">transform</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">position </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">10.2399998f</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">4.3499999f</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0.0f</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you set any object in World-1-2 to refer to <code>Mario</code> instance there, e.g as such in Camera:</p>
<section><img src="/50033/assets/images/2023-08-23-17-43-35-f92270941a15b70d8bb1fe5dc7c68bf3.png" class="center_image_tcFY" style="width:100%"></section>
<p>Then, you need to modify <code>CameraController.cs</code> to reassign current Scene&#x27;s Mario under <code>Start</code> function:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">CameraController.cs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name">Transform</span><span class="token plain"> player</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// Mario&#x27;s Transform</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">Start</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// other instructions</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#9a86fd"><span class="token plain">        player </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> GameObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">FindGameObjectWithTag</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Player&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">transform</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-playtest alert alert--playtest admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 122.88 122.88"><path d="M61.44 0c33.93 0 61.44 27.51 61.44 61.44s-27.51 61.44-61.44 61.44S0 95.37 0 61.44 27.51 0 61.44 0m23.47 65.52c3.41-2.2 3.41-4.66 0-6.61L49.63 38.63c-2.78-1.75-5.69-.72-5.61 2.92l.11 40.98c.24 3.94 2.49 5.02 5.8 3.19z" style="fill-rule:evenodd;clip-rule:evenodd"></path></svg></span>test</div><div class="admonitionContent_vXIg"><p>In the end, you want to make sure that the HUD persists (the score), and that there&#x27;s <strong>no missing references</strong> in World-1-2 scene:</p><div class="center_div_ipNX"><video style="width:100%" class="center_video_QRNx" controls=""><source src="https://50033.s3.ap-southeast-1.amazonaws.com/week-4/dontdestroyonload.mp4" type="video/mp4">Your browser does not support the video tag.</video></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="controversy">Controversy<a href="#controversy" class="hash-link" aria-label="Direct link to Controversy" title="Direct link to Controversy">​</a></h2>
<p>The Singleton pattern has been somewhat <a href="https://softwareengineering.stackexchange.com/questions/40373/so-singletons-are-bad-then-what/218322#218322" target="_blank" rel="noopener noreferrer">controversial</a>, although at the end of the day it is up to the developer’s wisdom on whether the pattern should be used. It is prone to abuse, and it is quite difficult to debug, for reasons laid out below.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="testing-difficulty">Testing Difficulty<a href="#testing-difficulty" class="hash-link" aria-label="Direct link to Testing Difficulty" title="Direct link to Testing Difficulty">​</a></h3>
<p>World-1-2 Scene is made without any GameManager or Canvas (UI) due to the intention that it will be brought over from World-1-1 Scene. However, Mario still exists in case we want to test some basic functionalities:</p>
<section><img src="/50033/assets/images/2023-08-24-10-29-44-d6b8a791e8da67d833a2842d578f3f6d.png" class="center_image_tcFY" style="width:100%"></section>
<p>We can still have GameManager and Canvas in World-1-2 for testing purposes, but that will mean <em>double the work</em>. We need to test both <strong>cases</strong>:</p>
<ol>
<li>World-1-2 as standalone scene</li>
<li>Playing World-1-2 <em>from</em> World-1-1</li>
</ol>
<p>Nevertheless, testing case 1 does not straightaway imply that case 2 above will be bug free. Each cases must be treated separately. The complexity of testing will grow as we have more and more scenes. To ensure that every scene smoothly transitions to the next, you’d have to start from the first scene, and quickly dash to the end of the first scene to load the second scene to test. It will be quite ridiculous to continue doing this if you have ten separate scenes and more.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="object-reference-bug">Object Reference Bug<a href="#object-reference-bug" class="hash-link" aria-label="Direct link to Object Reference Bug" title="Direct link to Object Reference Bug">​</a></h3>
<p>We have to be completely certain that any instance referred by the Singleton is <strong>not</strong> obsolete upon Scene changes. All gameobjects will be <strong>destroyed</strong> if we load new scene with the option <code>LoadSceneMode.Single</code> (unless we use LoadSceneMode.Additive but that will be pretty weird to just simply keep the objects alive if we aren’t using both scenes in parallel). This is why we need to make both PlayerMovement and HUDManager to be Singletons.</p>
<p>We also need to ensure that any instance in the current scene is referring to the Singleton instance and <strong>not</strong> the scene instance. This means we can&#x27;t use the inspector to link up references. For instance, each scene (World-1-1 and World-1-2) has separate instances of <code>Camera</code> that refers to <code>Mario</code>&#x27;s <code>transform</code>. We need to handle reference to the correct (Singleton) Mario under <code>Start()</code>. It can be done in these two ways:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// using tag (assuming Mario&#x27;s tag is &quot;Player&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    player </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> GameObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">FindGameObjectWithTag</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Player&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">transform</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// referring to the Singleton directly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    player </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> PlayerMovementWeek4</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">transform</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vXIg"><p>The point is that there&#x27;s <span class="orange-bold">no way</span> we can get a reference to World-1-1&#x27;s singleton Mario in World-1-2 <em>before</em> running the game.</p></div></div>
<span class="orange-bold">Use Singleton Pattern with caution!</span>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="static-class-vs-singletons">Static Class vs Singletons<a href="#static-class-vs-singletons" class="hash-link" aria-label="Direct link to Static Class vs Singletons" title="Direct link to Static Class vs Singletons">​</a></h2>
<p>Static Class and Singletons are similar at first glance: they can only have <span class="orange-bold">one</span> instance available in memory, and both can be used to maintain the global state of an application. They come with some subtle differences depending on your application.</p>
<p>This is an example of a static GameManager class:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Events</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">StaticGameManager</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// usage: StaticGameManager.gameStart.AddListener(&lt;FunctionName&gt;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token class-name">UnityEvent</span><span class="token plain"> gameStart</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token class-name">UnityEvent</span><span class="token plain"> gameRestart</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token class-name">UnityEvent</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"> scoreChange</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token class-name">UnityEvent</span><span class="token plain"> gameOver</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token class-name">UnityEvent</span><span class="token plain"> damageMario</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token class-name">IntVariable</span><span class="token plain"> gameScore</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// usage: StaticGameManager.GameRestart()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">GameRestart</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token comment" style="color:#6c6783">// reset score</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        gameScore</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Value </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token function" style="color:#9a86fd">SetScore</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">gameScore</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        gameRestart</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Invoke</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Time</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">timeScale </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1.0f</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">IncreaseScore</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> increment</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        gameScore</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">ApplyChange</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">increment</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token function" style="color:#9a86fd">SetScore</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">gameScore</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// invoke the scorechange events</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">SetScore</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> score</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        scoreChange</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Invoke</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">score</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">GameOver</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Time</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">timeScale </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0.0f</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In a static classes, all members must be static. Static classes provide a way to <span class="orange-bold">create</span> and <span class="orange-bold">use</span> class and method members <span class="orange-bold">without</span> creating an instance of the class. This can be useful when you need to create a <span class="orange-bold">utility</span> class with methods that don’t require any <strong>state</strong> or instance related information. Notice that we do not have instructions like <code>this.GetComponent&lt;something&gt;()</code> in the script above.</p>
<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>source</div><div class="admonitionContent_vXIg"><p><a href="https://henriquesd.medium.com/singleton-vs-static-class-e6b2b32ec331#:~:text=A%20Singleton%20class%20can%20Dispose,are%20bonded%20on%20compile%20time." target="_blank" rel="noopener noreferrer">The following information is obtained from here.</a></p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extension">Extension<a href="#extension" class="hash-link" aria-label="Direct link to Extension" title="Direct link to Extension">​</a></h4>
<ul>
<li>A Singleton class supports <span class="orange-bold">interface</span> implementation, while static classes <strong>cannot</strong> implement interfaces.</li>
<li>A Singleton class supports <span class="orange-bold">inheritance</span>, while a Static class is a sealed class, and therefore cannot be inherited.</li>
<li>A Singleton class <span class="orange-bold">can inherit from other classes</span>, while a Static class cannot (not even from other static classes).</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resource-management">Resource Management<a href="#resource-management" class="hash-link" aria-label="Direct link to Resource Management" title="Direct link to Resource Management">​</a></h4>
<ul>
<li>A Singleton class can be instantiated using the <code>new</code> keyword, while static can not be instantiated (static class can be used directly).</li>
<li>Both Singleton and static are stored on the Heap memory, but static classes are stored in a special area of the Heap Memory called the <span class="orange-bold">High-Frequency Heap</span> (Objects in High Frequency Heap are not garbage collected by GC, and hence static members are available <strong>throughout</strong> the application lifetime).</li>
<li>A Singleton class can <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose" target="_blank" rel="noopener noreferrer"><strong>Dispose</strong></a> (release unmanaged resources held by an object explicitly), while a static class can&#x27;t. Static classes in C# are designed to be <span class="orange-bold">stateless</span> and do not have instances that can be disposed of in the same way that regular (non-static) classes do.</li>
<li>A Static Class is often used for <span class="orange-bold">utility functions</span> or as containers for constants, and they don&#x27;t have a typical object lifecycle like regular instance classes <em>or</em> instance-specific state.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h4>
<ul>
<li>A Static class has <span class="orange-bold">better</span> performance since static methods are bonded on compile time.</li>
<li>A Singleton class can be <span class="orange-bold">lazy loaded</span> when needed, while static classes are always loaded. Static classes are loaded automatically by the .NET Framework common language runtime (CLR) when the program or namespace containing the class is loaded.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="general-usage">General Usage<a href="#general-usage" class="hash-link" aria-label="Direct link to General Usage" title="Direct link to General Usage">​</a></h4>
<ul>
<li>A Singleton class can have a <span class="orange-bold">constructor</span>, while a static class can only have a private static <span class="orange-bold">parameterless</span> constructor and cannot have instance constructors.</li>
<li>A Singleton class can be <span class="orange-bold">destroyed</span> (for specific purpose like reset or restart) while Static Classes cannot.</li>
</ul>
<p>Hence, it should be pretty straightforward for you to decide: <span class="orange-bold">if a class has no real need to use the Unity API (heavy dependence or computation on the attached object), make it static</span>. If you&#x27;d like to dive deeper in making your choices, give <a href="https://vionixstudio.com/2022/06/18/unity-singleton-and-static-variables/#Singleton_vs_Static_variable_usage_in_Unity" target="_blank" rel="noopener noreferrer">this</a>, <a href="https://www.c-sharpcorner.com/UploadFile/akkiraju/singleton-vs-static-classes/" target="_blank" rel="noopener noreferrer">this</a>, and <a href="https://gamedevbeginner.com/singletons-in-unity-the-right-way/" target="_blank" rel="noopener noreferrer">this</a> articles a read on top of your own research. Good luck!</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/50033/docs/category/unity-for-children"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unity for Children</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/50033/docs/children/static"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">C# Quick Tour</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#c-static-variable" class="table-of-contents__link toc-highlight">C#: Static Variable</a></li><li><a href="#c-properties" class="table-of-contents__link toc-highlight">C#: Properties</a></li><li><a href="#singleton-class" class="table-of-contents__link toc-highlight">Singleton Class</a><ul><li><a href="#gamemanager-as-singleton" class="table-of-contents__link toc-highlight">GameManager as Singleton</a></li></ul></li><li><a href="#changing-scene" class="table-of-contents__link toc-highlight">Changing Scene</a><ul><li><a href="#loadscenemode" class="table-of-contents__link toc-highlight">LoadSceneMode</a></li></ul></li><li><a href="#dontdestroyonload-consequences" class="table-of-contents__link toc-highlight">DontDestroyOnLoad Consequences</a><ul><li><a href="#scenemanageractivescenechanged" class="table-of-contents__link toc-highlight"><code>SceneManager.activeSceneChanged</code></a></li></ul></li><li><a href="#controversy" class="table-of-contents__link toc-highlight">Controversy</a><ul><li><a href="#testing-difficulty" class="table-of-contents__link toc-highlight">Testing Difficulty</a></li><li><a href="#object-reference-bug" class="table-of-contents__link toc-highlight">Object Reference Bug</a></li></ul></li><li><a href="#static-class-vs-singletons" class="table-of-contents__link toc-highlight">Static Class vs Singletons</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 50.033 Game Design and Development</div></div></div></footer></div>
</body>
</html>