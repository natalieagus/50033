<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-resources docs-version-current docs-doc-page docs-doc-id-general/sprite-resolver" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Using Sprite Resolver With Sprite Library | Game Development and Design</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://natalieagus.github.io/50033/resources/general/sprite-resolver"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-resources-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-resources-current"><meta data-rh="true" property="og:title" content="Using Sprite Resolver With Sprite Library | Game Development and Design"><meta data-rh="true" name="description" content="Goal: to make Animator run purely on Category/Label, while you hot-swap the SpriteLibraryAsset at runtime and not care about which sprite is being shown."><meta data-rh="true" property="og:description" content="Goal: to make Animator run purely on Category/Label, while you hot-swap the SpriteLibraryAsset at runtime and not care about which sprite is being shown."><link data-rh="true" rel="icon" href="/50033/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://natalieagus.github.io/50033/resources/general/sprite-resolver"><link data-rh="true" rel="alternate" href="https://natalieagus.github.io/50033/resources/general/sprite-resolver" hreflang="en"><link data-rh="true" rel="alternate" href="https://natalieagus.github.io/50033/resources/general/sprite-resolver" hreflang="x-default"><script src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython_stdlib.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/50033/assets/css/styles.9cdf0fa5.css">
<script src="/50033/assets/js/runtime~main.29dd62eb.js" defer="defer"></script>
<script src="/50033/assets/js/main.e4c74a13.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/50033/img/home-logo.svg"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-10-13-30-9ecc53e0c1b46e0ac8625d60c8c6b352.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-10-31-57-26933f107763dbbaf8fc4b882ccfb004.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-10-33-44-e4924fd124589d1dca28da2e4d7d13b0.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-10-10-48-286016b4763cdcc9cd03eb16c968beb0.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-10-12-07-ff257a7167452d89bc47a580dd700270.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-16-25-18-96a659db201537a0d6c5e8acca92064e.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-08-46-58-82cd5edf1fb4c2b78650bce9685a2806.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-08-48-52-82cd5edf1fb4c2b78650bce9685a2806.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-16-41-08-ff9550481fe5aa2ee1a10f7aef1b0efe.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-17-07-10-5423d841f0da091c5bc632be7f56cdef.png"><link rel="preload" as="image" href="/50033/assets/images/2025-09-30-18-02-53-72272474c4ffe9823d4b53e3a41c43d7.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-08-34-18-c421e6cb07882576fd6ebf5a17de5318.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-08-38-38-b1b2c9e8911ae13c2ece588ae0f47abc.png"><link rel="preload" as="image" href="/50033/assets/images/spritelib-mono-anim-create-73185897e9fe3c044b8716fc1fb42095.gif"><link rel="preload" as="image" href="/50033/assets/images/swap-mono-ea86760cf2b9f4f5d197fcaaabcd0d49.gif"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-08-58-11-a6c15097772ab35625fd0d30b6bb78bd.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-09-07-41-ab5203fd0c7d8f5a03a188bcadae1eed.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-09-07-53-7855878678287556e00851d2b41aedbf.png"><link rel="preload" as="image" href="/50033/assets/images/2025-10-01-09-14-29-feae6c3c5e2c80f353df448d4acc17bb.png"><link rel="preload" as="image" href="/50033/assets/images/swap-modular-46fbc5ddbdb45d85abbc29a21b7bfd30.gif"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_jvwV"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/50033/"><div class="navbar__logo"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">50.033</b></a><a class="navbar__item navbar__link" href="/50033/about/intro">About</a><a class="navbar__item navbar__link" href="/50033/docs/syllabus">Lab Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/50033/resources/category/general-resources">Resources</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_H2mL"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/natalieagus/50033" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/50033/"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/50033/img/home-logo.svg" alt="DDW Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>50.033</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/50033/resources/category/general-resources">General Resources</a><button aria-label="Collapse sidebar category &#x27;General Resources&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/uidb">The Game UI Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/tilemap">Tilemap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/prog-pattern">Game Programming Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/assets-db">Asset Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/cheats">God Mode for Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/helper-buttons">Creating Helper Buttons in Inspector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/patterns">Diving into Unity Architecture Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/50033/resources/general/sprite-resolver">Using Sprite Resolver With Sprite Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/object-pooling">Object Pooling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/data-driven-stats">Data-Driven Player Stats Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/50033/resources/general/combo">Combo System</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/50033/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/50033/resources/category/general-resources"><span itemprop="name">General Resources</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using Sprite Resolver With Sprite Library</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using Sprite Resolver With Sprite Library</h1></header>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p><strong>Goal</strong>: to make Animator run <strong>purely</strong> on Category/Label, while you hot-swap the SpriteLibraryAsset at runtime and <strong>not</strong> care about which sprite is being shown.</p><p>This approach is a good fit when you want to reuse the same animation data but present it with <em>different</em> sprite sets. A common example is <strong>cosmetic</strong> systems in games: your character has a walk cycle, an attack animation, and a death animation, and all of those are driven purely by label changes (<code>Walk_01, Walk_02, …</code>).</p></div></div>
<p>When creating a game, sometimes you have multiple NPCs that behave the same way (e.g: walk, attack, stunned, etc), only that they differ in skin. Instead of creating <em>new</em> animation clips and controller per NPC, you might want to use the <span class="orange-bold">Sprite Resolver</span> with <span class="orange-bold">Sprite Library asset</span>.</p>
<p>You can <strong>swap</strong> the entire sprite library at runtime, so you can instantly turn the same underlying animation into a “pirate” skin, a “cyber” skin, or a “holiday event” variant without duplicating any clips.</p>
<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vXIg"><p>This not only reduces animator workload but ensures timing and polish remain consistent across variants.</p></div></div>
<p>Finally, it’s useful when you want to <strong>scale</strong> to multiple platforms or art directions. You can prepare low-resolution vs high-resolution atlases (mobile vs desktop), or censored vs uncensored regional art sets, and select the correct library at load time. Because the animator only cares about labels, you don’t need to maintain separate timelines, which keeps your project much leaner and easier to maintain.</p>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>The <span class="orange-bold">only</span> requirement for this method to work is to have the <strong>same number of frames</strong> for each clip, e.g: <em>walking</em> clip contains 18 frames for <em>ANY</em> character.</p><p>We would suggest certain naming conventions later on that matters if you want to automate the creation of your sprite library.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-install-2d-animation-package">Step 1: Install 2D Animation Package<a href="#step-1-install-2d-animation-package" class="hash-link" aria-label="Direct link to Step 1: Install 2D Animation Package" title="Direct link to Step 1: Install 2D Animation Package">​</a></h2>
<p>Open Window &gt;&gt; Package Management &gt;&gt; Package Manager and search for 2D Animation Package.</p>
<section><img src="/50033/assets/images/2025-09-30-10-13-30-9ecc53e0c1b46e0ac8625d60c8c6b352.png" class="center_image_tcFY" style="width:100%"></section>
<p>This unlocks <strong>Sprite Library Asset</strong> + <strong>Sprite Resolver</strong> workflow.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-preparing-the-spritesheets">Step 2: Preparing the Spritesheets<a href="#step-2-preparing-the-spritesheets" class="hash-link" aria-label="Direct link to Step 2: Preparing the Spritesheets" title="Direct link to Step 2: Preparing the Spritesheets">​</a></h2>
<p>Consider a system you have a large cast of characters or NPCs that behave identically but should look different, such as: villagers in a town, enemies in a dungeon, or units in a strategy game.</p>
<p><strong>Recall the goal</strong>: instead of authoring separate animation controllers, you keyframe the labels once and let different sprite libraries provide the art.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="naming-convention">Naming Convention<a href="#naming-convention" class="hash-link" aria-label="Direct link to Naming Convention" title="Direct link to Naming Convention">​</a></h3>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>You need to <span class="orange-bold">decide</span> your naming scheme up front.</p></div></div>
<p>Make sure your sprites are <strong>named consistently</strong>. This makes it easier <em>if you want to automate</em> the creation of the Sprite Library later on. Here we suggest a naming convention and we design batch processor around this construct.</p>
<p>The filename structure of your spritesheets should follow this rule:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">{Category}[_StyleId]_{Dim}_{Variant}_{Slice}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Category</strong>: Body, Hairstyle, Outfit, etc.</li>
<li><strong>StyleId</strong>: (optional) → which design (e.g. Hairstyle_24).</li>
<li><strong>Dim</strong>: resolution tag (e.g. 48x48).</li>
<li><strong>Variant</strong>: color/skin index (e.g. 01, 05).</li>
<li><strong>Slice</strong>: frame number from slicing (e.g. 114). This can be automatically generated in Unity.</li>
</ul>
<p>For instance (without style ID),</p>
<section><img src="/50033/assets/images/2025-09-30-10-31-57-26933f107763dbbaf8fc4b882ccfb004.png" class="center_image_tcFY" style="width:100%"></section>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">Body_48x48_03_0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This shows a Body category spritesheet, 48×48 pixel dimension, variant 03, slice 0. This sheet would have its PPU set to 48 as well.</p>
<p>Sometimes we need a style ID as well to differentiate between hairstyles, etc:</p>
<section><img src="/50033/assets/images/2025-09-30-10-33-44-e4924fd124589d1dca28da2e4d7d13b0.png" class="center_image_tcFY" style="width:100%"></section>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">Hairstyle_01_48x48_01_0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This mean hairstyle category, style #01, 48×48 pixel dimension, variant 01, slice 0.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sprite-slicing-and-import-settings">Sprite slicing and import settings<a href="#sprite-slicing-and-import-settings" class="hash-link" aria-label="Direct link to Sprite slicing and import settings" title="Direct link to Sprite slicing and import settings">​</a></h3>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>For each art set, your sprite sheet <span class="orange-bold">must</span> slice into the same naming scheme.</p><p>It is also important to ensure that each sprite has the <span class="orange-bold">same pivot</span> (e.g., at the feet), same Pixels Per Unit (PPU), and same orientation.</p></div></div>
<p>Here&#x27;s some example of such spritesheets (e.g: VillagerA and VillagerB):</p>
<section><img src="/50033/assets/images/2025-09-30-10-10-48-286016b4763cdcc9cd03eb16c968beb0.png" class="center_image_tcFY" style="width:100%"></section>
<section><img src="/50033/assets/images/2025-09-30-10-12-07-ff257a7167452d89bc47a580dd700270.png" class="center_image_tcFY" style="width:100%"></section>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="workflow-overview">Workflow Overview<a href="#workflow-overview" class="hash-link" aria-label="Direct link to Workflow Overview" title="Direct link to Workflow Overview">​</a></h2>
<p>When building characters with swappable parts (Body, Hairstyle, Outfit, etc.), you have two main ways of organizing your <code>SpriteLibraryAssets</code>. The choice you make affects how you author assets, how you set up your Animator, and how much flexibility you have for customization at runtime. Below are the two dominant patterns, with their trade-offs spelled out.</p>
<p>The two approaches are <strong>Monolithic</strong> and <strong>Modular</strong> workflows.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="monolithic-workflow-all-in-one-libraries-overview">Monolithic Workflow (all-in-one libraries) Overview<a href="#monolithic-workflow-all-in-one-libraries-overview" class="hash-link" aria-label="Direct link to Monolithic Workflow (all-in-one libraries) Overview" title="Direct link to Monolithic Workflow (all-in-one libraries) Overview">​</a></h3>
<p>In the <strong>monolithic</strong> approach, you pre-bake every part into a single <code>SpriteLibraryAsset</code>. Each library contains all the categories (Body, Hairstyle, Outfit, etc.) for a specific full character look. For example, <code>Character_03_24_02.asset</code> might contain Body03, Hairstyle24, Outfit02 all inside <span class="orange-bold">one</span> file.</p>
<p>Your <strong>Player</strong> GameObject is much simpler here: it only has ONE <code>SpriteRenderer + SpriteResolver + SpriteLibrary</code>, all under the <em>root</em> Animator. The Animator still drives the same label changes (<code>walk_114</code>, <code>walk_115</code>, …), but the <span class="orange-bold">active</span> library asset already knows which Body/Hair/Outfit sprites to display for that skin. To change appearance at runtime, you simply assign a different monolithic asset, and the whole character swaps instantly.</p>
<p>This approach is straightforward for games that only have a handful of predefined skins. However, it doesn’t scale well: if you want 3 Bodies × 4 Hairstyles × 3 Outfits, you’ll need 36 separate <code>SpriteLibraryAsset</code>s to cover all combinations.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modular-workflow-overview">Modular Workflow Overview<a href="#modular-workflow-overview" class="hash-link" aria-label="Direct link to Modular Workflow Overview" title="Direct link to Modular Workflow Overview">​</a></h3>
<p>In the <strong>modular</strong> approach, you keep each category (Body, Hairstyle, Outfit) in its own <code>SpriteLibraryAsset</code>. Instead of baking all the art into one giant library, you generate smaller, focused libraries that hold only one category at a time.</p>
<p>Your <strong>Player</strong> GameObject has <strong>one Animator</strong> at the root, but <span class="orange-bold">each part</span> (Body, Hairstyle, Outfit) gets its own <code>SpriteRenderer + SpriteResolver + SpriteLibrary</code>. The Animator drives label changes (e.g. <code>walk_114 → walk_115 → walk_116</code>), and because all libraries share the same label scheme, Body, Hair, and Outfit update together without you having to animate them separately.</p>
<p>At <strong>runtime</strong>, you decide which variant to load for each category. For example, you can assign <code>BodySpriteLibrary_03.asset</code>, <code>HairstyleSpriteLibrary_24.asset</code>, and <code>OutfitSpriteLibrary_02.asset</code> to the respective resolvers, and the Animator will seamlessly run them in sync. This makes modular especially powerful for <strong>character customization systems</strong> where players can freely mix and match parts.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="visual-summary">Visual Summary<a href="#visual-summary" class="hash-link" aria-label="Direct link to Visual Summary" title="Direct link to Visual Summary">​</a></h3>
<p><strong>Monolithic (one shared library asset)</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">PlayerCharacter (Root)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Components on Root:</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • Animator</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteLibrary (Assign CharacterX.asset here)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Body (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Body&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Hair (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Hairstyle&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> └── Outfit (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteResolver (Category = &quot;Outfit&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Modular (separate library assets per part)</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">PlayerCharacter (Root)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Components on Root:</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • Animator</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Body (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteLibrary (assign Body_X.asset or similar)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Body&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Hair (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteLibrary (assign Hairstyle_X.asset or similar)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Hairstyle&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> └── Outfit (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteLibrary (assign Outfit_X.asset or similar)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteResolver (Category = &quot;Outfit&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="creating-the-spritelibraryasset">Creating the SpriteLibraryAsset<a href="#creating-the-spritelibraryasset" class="hash-link" aria-label="Direct link to Creating the SpriteLibraryAsset" title="Direct link to Creating the SpriteLibraryAsset">​</a></h2>
<p>There are two approaches to this: Manual or Batch Processing.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="manual-creation-of-spritelibraryasset">Manual Creation of SpriteLibraryAsset<a href="#manual-creation-of-spritelibraryasset" class="hash-link" aria-label="Direct link to Manual Creation of SpriteLibraryAsset" title="Direct link to Manual Creation of SpriteLibraryAsset">​</a></h3>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>Manual creation of the assets is tedious but it allows you to be more relaxed with the naming convention of your sprites. You can use different .png files (doesnt have to be in the same spritesheet) for each category-label pair.</p></div></div>
<p>In the Project window, right click &gt;&gt; Create &gt;&gt; 2D &gt;&gt; Sprite Library Asset. Then open its Sprite Library Editor via the inspector and start populating it. You can organize by Category such as <code>Body</code>, <code>Head</code>, <code>Weapon</code>, and Label such as <code>Idle01</code>, <code>Walk01</code>, <code>Attack 01</code> etc. You should create one SpriteLibraryAsset per skin/variant.</p>
<ul>
<li>The Animator only ever talks in Category + Label terms (Body: Walk01, Head: Smile, etc).</li>
<li>Each <code>SpriteLibraryAsset</code> is just a <strong>dictionary</strong> mapping those labels to actual sprites.</li>
<li>So if VillagerA and VillagerB both have categories/labels defined the <span class="orange-bold">same</span> way, you can <strong>swap</strong> the library, and all the existing Animator clips continue to work <em>but the art changes</em>.</li>
</ul>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>All variants must share the <span class="orange-bold">SAME</span> categories/labels. Animator only cares about the label, not which art set.</p></div></div>
<p>For instance, suppose we have these SpriteLibraryAssets:</p>
<section><img src="/50033/assets/images/2025-09-30-16-25-18-96a659db201537a0d6c5e8acca92064e.png" class="center_image_tcFY" style="width:100%"></section>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">VillagerA.asset</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token key atrule" style="color:#ffcc99">Categories</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token key atrule" style="color:#ffcc99">Body</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_01</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Body_48x48_03_114.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_02</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Body_48x48_03_115.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_03</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Body_48x48_03_116.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token key atrule" style="color:#ffcc99">Hair</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_01</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Hairstyle_01_48x48_05_112.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_02</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Hairstyle_01_48x48_05_113.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">VillagerB.asset</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token key atrule" style="color:#ffcc99">Categories</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token key atrule" style="color:#ffcc99">Body</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_01</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Body_48x48_06_114.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_02</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Body_48x48_06_115.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_03</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Body_48x48_06_116.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token key atrule" style="color:#ffcc99">Hair</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_01</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Hairstyle_03_48x48_04_112.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token key atrule" style="color:#ffcc99">Walk_02</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> Hairstyle_03_48x48_04_113.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the animator timeline, we refer to them as such:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">Frame 0: Body Walk_01 &amp; Hair Walk_01</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">Frame 5: Body Walk_02 &amp; Hair Walk_02</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">Frame 10: Body Walk_03 &amp; Hair Walk_02</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then during runtime, we would swap them:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">spriteLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> villagerA</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// uses VillagerA art</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">spriteLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> villagerB</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// instantly swaps to VillagerB art</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For monolithic approach, you need to create ONE sprite library asset per combination. Suppose you have 3 Body spritesheets, 4 Hair spritesheets, and 2 Outfit spritesheets.</p>
<ul>
<li>You need to create 3x4x2 = 24 <code>SpriteLibraryAsset</code>, which is quite a hefty work</li>
<li>Each asset has <strong>ALL</strong> three categories (<code>Hair</code>, <code>Body</code>, <code>Outfit</code>) as shown in the screenshot above</li>
<li>Each category has labels such as <code>Walk_01</code>, etc</li>
</ul>
<p>Here&#x27;s a sample screenshot:</p>
<section><img src="/50033/assets/images/2025-10-01-08-46-58-82cd5edf1fb4c2b78650bce9685a2806.png" class="center_image_tcFY" style="width:100%"></section>
<p>For modular approach, you need to create ONE sprite library asset per type, that is:</p>
<ul>
<li>Create 3 different <code>SpriteLibraryAssetBody</code> for each Body type<!-- -->
<ul>
<li>Each asset only has <em>one</em> category e.g: Body, and labels such as <code>Walk_01</code>, etc</li>
</ul>
</li>
<li>And 4 for hair, as well as 2 for outfit</li>
<li>In the end, you have 3+4+2 = 9 <code>SpriteLibraryAsset</code></li>
</ul>
<p>Here&#x27;s a sample screenshot:</p>
<section><img src="/50033/assets/images/2025-10-01-08-48-52-82cd5edf1fb4c2b78650bce9685a2806.png" class="center_image_tcFY" style="width:100%"></section>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batch-creation-of-spritelibraryasset">Batch Creation of SpriteLibraryAsset<a href="#batch-creation-of-spritelibraryasset" class="hash-link" aria-label="Direct link to Batch Creation of SpriteLibraryAsset" title="Direct link to Batch Creation of SpriteLibraryAsset">​</a></h3>
<p>Creating sprite library asset per skin/variant is a hefty task, be it the modular or monolithic way. If you can slice your sprites consistently (same pivot, PPU, and frame count), and name all the spritesheets consistently, you can batch create the library asset. For these batch processors (both <strong>Modular</strong> and <strong>Monolithic</strong>) to work, your sprites <strong>must</strong> follow a strict filename pattern.</p>
<p>This is how the script knows which category, style, variant, and slice each sprite belongs to.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="common-filename-structure-of-spritesheets">Common Filename Structure of Spritesheets<a href="#common-filename-structure-of-spritesheets" class="hash-link" aria-label="Direct link to Common Filename Structure of Spritesheets" title="Direct link to Common Filename Structure of Spritesheets">​</a></h4>
<p>Your spritesheet should have the following structure as name:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">{Category}[_StyleId]_{Dim}_{Variant}_{Slice}</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<section><img src="/50033/assets/images/2025-09-30-16-41-08-ff9550481fe5aa2ee1a10f7aef1b0efe.png" class="center_image_tcFY" style="width:50%"></section>
<p>Explanation:</p>
<ul>
<li><code>{Category}</code>: the type of asset (e.g., Body, Hairstyle, Outfit).</li>
<li><code>[_StyleId]</code>: <em>optional</em> style identifier (e.g., 24 for Hairstyle #24).</li>
<li><code>{Dim}</code>: the dimension string, often matching your sliced sheet (e.g., 48x48).</li>
<li><code>{Variant}</code>: the color/variant index (e.g., 01, 05).</li>
<li><code>{Slice}</code>: the frame number produced <em>when Unity slices your sheet</em> (e.g., 114, 594).</li>
</ul>
<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vXIg"><p>If a category does not use StyleId, the filename has 4 parts.
If it does, the filename has 5 parts.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-this-matters">Why This Matters<a href="#why-this-matters" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters">​</a></h4>
<p>The batch processors:</p>
<ul>
<li><strong>Split</strong> the name on <code>_</code></li>
<li><strong>Filter</strong> by category, dimension, styleId, variant, and slice range</li>
<li><strong>Generate labels</strong> inside the Sprite Library using your <code>labelTemplate</code></li>
</ul>
<p>So if your filenames don’t follow the rule, the script won’t know how to organize them. You are free to come up with your naming convention but you need to edit the Batch Processor&#x27;s logic accordingly.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="json-config-format-for-sprite-library-generation">JSON Config Format for Sprite Library Generation<a href="#json-config-format-for-sprite-library-generation" class="hash-link" aria-label="Direct link to JSON Config Format for Sprite Library Generation" title="Direct link to JSON Config Format for Sprite Library Generation">​</a></h4>
<p>You can specify the Sprite Library Rules with a JSON file placed in a specific path of your choice. Right now we choose <code>Assets/EditorConfig</code>.</p>
<p>The JSON file defines <strong>rules</strong> for each category of sprites (Body, Hairstyle, Outfit, etc.).
Each rule tells the generator how to parse filenames, filter sprites, and build labels inside a <code>SpriteLibraryAsset</code>.</p>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="common-fields">Common Fields<a href="#common-fields" class="hash-link" aria-label="Direct link to Common Fields" title="Direct link to Common Fields">​</a></h5>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Body&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;variants&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token string" style="color:#ffcc99">&quot;03&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;06&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;09&quot;</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">114</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">137</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Explanation:</p>
<ul>
<li>
<p><strong>category</strong>:
The folder name under <code>Assets/Resources</code> that holds the sprites.</p>
<ul>
<li>Example: <code>&quot;Body&quot;</code> → looks inside <code>Assets/Resources/Body</code>.</li>
</ul>
</li>
<li>
<p><strong>hasStyleId</strong> (<code>true</code> or <code>false</code>):
Whether sprite filenames for this category contain a <strong>styleId</strong> field.</p>
<ul>
<li><code>Body_48x48_03_120</code> → <code>hasStyleId = false</code></li>
<li><code>Hairstyle_24_48x48_01_594</code> → <code>hasStyleId = true</code></li>
</ul>
</li>
<li>
<p><strong>dimFilter</strong>:
Resolution or dimension string (e.g. <code>&quot;48x48&quot;</code>) used to filter which sprites are included.
If empty, no dimension filtering is applied.</p>
</li>
<li>
<p><strong>labelTemplate</strong>:
A string pattern that decides what labels are added inside the Sprite Library.
It can use placeholders:</p>
<ul>
<li><code>{Category}</code> → type (e.g., <code>&quot;Body&quot;</code>)</li>
<li><code>{StyleId}</code> → the style identifier (if any, e.g. <code>&quot;24&quot;</code>)</li>
<li><code>{Dim}</code> → dimension filter string (e.g. <code>&quot;48x48&quot;</code>)</li>
<li><code>{Variant}</code> → variant or color ID (e.g. <code>&quot;01&quot;</code>)</li>
<li><code>{Slice}</code> → the frame/slice number (e.g. <code>&quot;120&quot;</code>)</li>
</ul>
<p>Example:</p>
<ul>
<li><code>&quot;walk_{Slice}&quot;</code> → <code>walk_114</code>, <code>walk_115</code>, <code>walk_116</code></li>
<li><code>&quot;{StyleId}_{Slice}&quot;</code> → <code>24_594</code></li>
</ul>
</li>
<li>
<p><strong>minFrame / maxFrame</strong>:
Optional numeric filters on the slice/frame number.</p>
<ul>
<li>Example: <code>minFrame=114, maxFrame=137</code> means only frames between 114–137 are included.</li>
<li>Leave at <code>-1</code> to disable filtering.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="categories-without-style-ids">Categories Without Style IDs<a href="#categories-without-style-ids" class="hash-link" aria-label="Direct link to Categories Without Style IDs" title="Direct link to Categories Without Style IDs">​</a></h4>
<p>If <code>hasStyleId = false</code>, you just provide <strong>variants</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Body&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;variants&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token string" style="color:#ffcc99">&quot;03&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;06&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;09&quot;</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">114</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">137</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This means we will create libraries out of Spritesheets named <code>Body_48x48_03</code>, <code>Body_48x48_06</code>, <code>Body_48x48_09</code>.</p>
<ul>
<li>Each library only includes slices 114–137.</li>
<li>Labels are formatted as <code>&quot;walk_{Slice}&quot;</code>.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="categories-with-style-ids">Categories With Style IDs<a href="#categories-with-style-ids" class="hash-link" aria-label="Direct link to Categories With Style IDs" title="Direct link to Categories With Style IDs">​</a></h4>
<p>If <code>hasStyleId = true</code>, you define <strong>explicit pairs</strong> of styleId and variant. This avoids parallel arrays and makes it clearer which goes with which.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Hairstyle&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;pairs&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;05&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;24&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;28&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;28&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;04&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">112</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">135</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This means we will create libraries out of Spritesheets named <code>Hairstyle_01_48x48_01</code>, <code>Hairstyle_01_48x48_05</code>, <code>Hairstyle_24_48x48_01</code>, <code>Hairstyle_28_48x48_01</code>, and <code>Hairstyle_28_48x48_04_*</code>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="json-example">JSON Example<a href="#json-example" class="hash-link" aria-label="Direct link to JSON Example" title="Direct link to JSON Example">​</a></h4>
<p>Here&#x27;s a full example of the sprite library rules in JSON format:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">SpriteLibraryRules.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Body&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;variants&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token string" style="color:#ffcc99">&quot;03&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;06&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;09&quot;</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">114</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">137</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Hairstyle&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;pairs&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;05&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;24&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;28&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;28&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;04&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">112</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">135</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Outfit&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;pairs&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;06&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;10&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;13&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;13&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;03&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;16&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;16&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;03&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;{StyleId}_{Slice}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="spritesheet-path">Spritesheet Path<a href="#spritesheet-path" class="hash-link" aria-label="Direct link to Spritesheet Path" title="Direct link to Spritesheet Path">​</a></h4>
<p>The spritesheets must be stored inside a folder that matches the name of its <code>category</code>. For instance:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">Assets/Resources</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">├── Body</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Body_48x48_03.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Body_48x48_06.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   └── Body_48x48_09.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">├── Hairstyle</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Hairstyle_01_48x48_01.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Hairstyle_01_48x48_05.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Hairstyle_24_48x48_01.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Hairstyle_28_48x48_01.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   └── Hairstyle_28_48x48_04.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">├── Outfit</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Outfit_01_48x48_06.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Outfit_01_48x48_10.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Outfit_13_48x48_01.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Outfit_13_48x48_03.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   ├── Outfit_16_48x48_01.png</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">│   └──Outfit_16_48x48_03.png</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batch-file-modular">Batch File (Modular)<a href="#batch-file-modular" class="hash-link" aria-label="Direct link to Batch File (Modular)" title="Direct link to Batch File (Modular)">​</a></h4>
<p>Add this file into the path <code>Assets/Editor</code>:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">SpriteLibraryBatchAutoCreateSpriteAssetLibrary_Modular</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEditor</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">U2D</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Animation</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">IO</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">SpriteLibraryBatchAutoCreateSpriteAssetLibrary_Modular</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// ------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// USER PATH SETTINGS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// ------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> BaseSpritesPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Assets/Resources&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain">          </span><span class="token comment" style="color:#6c6783">// Where sprites are stored, e.g: Assets/Resources/Body, Assets/Resources/Hairstyle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> LibraryOutputPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Assets/Resources/SpriteLibraryAssets&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// Where to save generated libraries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> ConfigPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Assets/EditorConfig/SpriteLibraryRules.json&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// JSON config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// ------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">System</span><span class="token attribute class-name punctuation" style="color:#6c6783">.</span><span class="token attribute class-name">Serializable</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">StyleVariantPair</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> styleId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> variant</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">System</span><span class="token attribute class-name punctuation" style="color:#6c6783">.</span><span class="token attribute class-name">Serializable</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">CategoryRule</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> category</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> hasStyleId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name">StyleVariantPair</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> pairs</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> variants</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> dimFilter</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> labelTemplate</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> minFrame </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> maxFrame </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">struct</span><span class="token plain"> </span><span class="token class-name">ParsedName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> type</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> styleId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> dim</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> colorId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> frameId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">MenuItem</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">(</span><span class="token attribute attribute-arguments string" style="color:#ffcc99">&quot;Tools/Sprite Library/Generate All Libraries (Modular JSON Config)&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">GenerateAll</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token plain">File</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Exists</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">ConfigPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">LogError</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Config file not found: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">ConfigPath</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> json </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> File</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">ReadAllText</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">ConfigPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> rules </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> JsonHelper</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">FromJson</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">CategoryRule</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> rule </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> rules</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">hasStyleId </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">pairs </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> pair </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">pairs</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token function" style="color:#9a86fd">FillLibraryFor</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> pair</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> pair</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">variant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> variant </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">variants</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token function" style="color:#9a86fd">FillLibraryFor</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> variant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">SaveAssets</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Finished generating all modular libraries.&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">FillLibraryFor</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">CategoryRule</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> styleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> targetVariant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> suffix </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> styleId </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">?</span><span class="token plain"> targetVariant </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">styleId</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">_</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">targetVariant</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> spritesPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Combine</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">BaseSpritesPath</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> libraryPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Combine</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">LibraryOutputPath</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">rule</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">category</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">SpriteLibrary_</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">suffix</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">.asset&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> library </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">LoadAssetAtPath</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">SpriteLibraryAsset</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">libraryPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">library </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            library </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> ScriptableObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">CreateInstance</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">SpriteLibraryAsset</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">CreateAsset</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">library</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> libraryPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> allGuids </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">FindAssets</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;t:Sprite&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> spritesPath </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> added </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> guid </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> allGuids</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> assetPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GUIDToAssetPath</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">guid</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> assetsAtPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">LoadAllAssetsAtPath</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">assetPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;[FillLibraryFor] Found sprite source: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">assetPath</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> obj </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> assetsAtPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">obj </span><span class="token keyword" style="color:#ffcc99">is</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">not</span><span class="token plain"> </span><span class="token class-name">Sprite</span><span class="token plain"> s</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token function" style="color:#9a86fd">TryParse</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">hasStyleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">out</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token keyword" style="color:#ffcc99">string</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">IsNullOrEmpty</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dimFilter</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dimFilter</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> targetVariant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> styleId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token function" style="color:#9a86fd">InFrameRange</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> label </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">BuildLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">labelTemplate</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> existing </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> library</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetSprite</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">existing </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> library</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">RemoveCategoryLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                library</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">AddCategoryLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                added</span><span class="token operator" style="color:#e09142">++</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        EditorUtility</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">SetDirty</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">library</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">added</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99"> sprites added to </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">libraryPath</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99"> for </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">rule</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">category</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99"> style </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">styleId </span><span class="token interpolation-string interpolation expression language-csharp operator" style="color:#e09142">??</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#ffcc99">&quot;-&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99"> variant </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">targetVariant</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">InFrameRange</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">CategoryRule</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> frameIdStr</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">minFrame </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">maxFrame </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token keyword" style="color:#ffcc99">int</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">TryParse</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">frameIdStr</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">out</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">minFrame </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> frame </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">minFrame</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">maxFrame </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> frame </span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">maxFrame</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">BuildLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> template</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name">ParsedName</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> template</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Category}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{StyleId}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">??</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Dim}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Variant}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">TryParse</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> spriteName</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> hasStyleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">out</span><span class="token plain"> </span><span class="token class-name">ParsedName</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        p </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">default</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> parts </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> spriteName</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Split</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token char">&#x27;_&#x27;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">hasStyleId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">5</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">2</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">3</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">4</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">4</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">2</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">3</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">JsonHelper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name">T</span><span class="token return-type class-name punctuation" style="color:#6c6783">[</span><span class="token return-type class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token generic-method function" style="color:#9a86fd">FromJson</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">T</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> json</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> wrapped </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;{\&quot;Items\&quot;:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> json </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;}&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name">Wrapper</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"> wrapper </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> JsonUtility</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">FromJson</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">Wrapper</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">T</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">wrapped</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> wrapper</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Items</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">System</span><span class="token attribute class-name punctuation" style="color:#6c6783">.</span><span class="token attribute class-name">Serializable</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">Wrapper</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> Items</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then go to Tools &gt;&gt; Sprite Library &gt;&gt; Generate All Libraries (Modular JSON Config). Wait for awhile, your computer might hang for a bit. This will create 14 libraries under <code>Assets/SpriteLibraryAssets</code> if the <a href="#json-example">JSON example above</a> is used:</p>
<section><img src="/50033/assets/images/2025-09-30-17-07-10-5423d841f0da091c5bc632be7f56cdef.png" class="center_image_tcFY" style="width:100%"></section>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batch-file-monolithic">Batch File (Monolithic)<a href="#batch-file-monolithic" class="hash-link" aria-label="Direct link to Batch File (Monolithic)" title="Direct link to Batch File (Monolithic)">​</a></h4>
<p>Add this file into the path <code>Assets/Editor</code>:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockTitle_Ktv7">SpriteLibraryBatchAutoCreateSpriteAssetLibrary_Monolithic</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEditor</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">U2D</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Animation</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">IO</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Collections</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Generic</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Generates one SpriteLibraryAsset per full character combo across all categories.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Uses pairs for categories with styleId.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">SpriteLibraryBatchAutoCreateSpriteAssetLibrary_Monolithic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// ------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// USER PATH SETTINGS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// ------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> BaseSpritesPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Assets/Resources&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain">          </span><span class="token comment" style="color:#6c6783">// Where sprites are stored, e.g: Assets/Resources/Body, Assets/Resources/Hairstyle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> LibraryOutputPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Assets/Resources/SpriteLibraryAssets&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// Where to save generated libraries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> ConfigPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Assets/EditorConfig/SpriteLibraryRules.json&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// JSON config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// ------------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">System</span><span class="token attribute class-name punctuation" style="color:#6c6783">.</span><span class="token attribute class-name">Serializable</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">StyleVariantPair</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> styleId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> variant</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">System</span><span class="token attribute class-name punctuation" style="color:#6c6783">.</span><span class="token attribute class-name">Serializable</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">CategoryRule</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> category</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> hasStyleId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name">StyleVariantPair</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> pairs</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> variants</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> dimFilter</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> labelTemplate</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> minFrame </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> maxFrame </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">struct</span><span class="token plain"> </span><span class="token class-name">ParsedName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> type</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> styleId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> dim</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> colorId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> frameId</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">MenuItem</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">(</span><span class="token attribute attribute-arguments string" style="color:#ffcc99">&quot;Tools/Sprite Library/Generate All Libraries (Monolithic JSON Config)&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">GenerateAll</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token plain">File</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Exists</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">ConfigPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">LogError</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Config file not found: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">ConfigPath</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> json </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> File</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">ReadAllText</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">ConfigPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> rules </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> JsonHelper</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">FromJson</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">CategoryRule</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token function" style="color:#9a86fd">GenerateCombinations</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rules</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Dictionary</span><span class="token constructor-invocation class-name punctuation" style="color:#6c6783">&lt;</span><span class="token constructor-invocation class-name keyword" style="color:#ffcc99">string</span><span class="token constructor-invocation class-name punctuation" style="color:#6c6783">,</span><span class="token constructor-invocation class-name"> </span><span class="token constructor-invocation class-name punctuation" style="color:#6c6783">(</span><span class="token constructor-invocation class-name keyword" style="color:#ffcc99">string</span><span class="token constructor-invocation class-name"> styleId</span><span class="token constructor-invocation class-name punctuation" style="color:#6c6783">,</span><span class="token constructor-invocation class-name"> </span><span class="token constructor-invocation class-name keyword" style="color:#ffcc99">string</span><span class="token constructor-invocation class-name"> variant</span><span class="token constructor-invocation class-name punctuation" style="color:#6c6783">)</span><span class="token constructor-invocation class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">SaveAssets</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;Finished generating all monolithic libraries.&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">GenerateCombinations</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">CategoryRule</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> rules</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name">Dictionary</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name punctuation" style="color:#6c6783">,</span><span class="token class-name"> </span><span class="token class-name punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name"> styleId</span><span class="token class-name punctuation" style="color:#6c6783">,</span><span class="token class-name"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name"> variant</span><span class="token class-name punctuation" style="color:#6c6783">)</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> depth</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">depth </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> rules</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token function" style="color:#9a86fd">BuildLibrary</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rules</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> rule </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> rules</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">depth</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">hasStyleId </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">pairs </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> pair </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">pairs</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                chosen</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">pair</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> pair</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">variant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token function" style="color:#9a86fd">GenerateCombinations</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rules</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> depth </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> variant </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">variants</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                chosen</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> variant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token function" style="color:#9a86fd">GenerateCombinations</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rules</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> depth </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">BuildLibrary</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">CategoryRule</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> rules</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name">Dictionary</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name punctuation" style="color:#6c6783">,</span><span class="token class-name"> </span><span class="token class-name punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name"> styleId</span><span class="token class-name punctuation" style="color:#6c6783">,</span><span class="token class-name"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token class-name"> variant</span><span class="token class-name punctuation" style="color:#6c6783">)</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> comboName </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Character&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> kv </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> stylePart </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> kv</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">?</span><span class="token plain"> kv</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            comboName </span><span class="token operator" style="color:#e09142">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;_</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">kv</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">Key</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">stylePart</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">kv</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">Value</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">variant</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> libraryPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Combine</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">LibraryOutputPath</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">comboName</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">.asset&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> library </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">LoadAssetAtPath</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">SpriteLibraryAsset</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">libraryPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">library </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            library </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> ScriptableObject</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">CreateInstance</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">SpriteLibraryAsset</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">CreateAsset</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">library</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> libraryPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> totalAdded </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> rule </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> rules</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> choice </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> chosen</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> spritesPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Combine</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">BaseSpritesPath</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> allGuids </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">FindAssets</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;t:Sprite&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">new</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> spritesPath </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> guid </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> allGuids</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> assetPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GUIDToAssetPath</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">guid</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> assetsAtPath </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> AssetDatabase</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">LoadAllAssetsAtPath</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">assetPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token keyword" style="color:#ffcc99">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> obj </span><span class="token keyword" style="color:#ffcc99">in</span><span class="token plain"> assetsAtPath</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">obj </span><span class="token keyword" style="color:#ffcc99">is</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">not</span><span class="token plain"> </span><span class="token class-name">Sprite</span><span class="token plain"> s</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token function" style="color:#9a86fd">TryParse</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">hasStyleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">out</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token keyword" style="color:#ffcc99">string</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">IsNullOrEmpty</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dimFilter</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dimFilter</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> choice</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">variant</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">choice</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> choice</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token function" style="color:#9a86fd">InFrameRange</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">continue</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> label </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">BuildLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">labelTemplate</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> parsed</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> existing </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> library</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">GetSprite</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">existing </span><span class="token operator" style="color:#e09142">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                        </span><span class="token keyword" style="color:#ffcc99">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> library</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">RemoveCategoryLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    library</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">AddCategoryLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    totalAdded</span><span class="token operator" style="color:#e09142">++</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        EditorUtility</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">SetDirty</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">library</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">comboName</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">totalAdded</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99"> sprites added.&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">InFrameRange</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">CategoryRule</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> frameIdStr</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">minFrame </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">maxFrame </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">!</span><span class="token keyword" style="color:#ffcc99">int</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">TryParse</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">frameIdStr</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">out</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">minFrame </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> frame </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">minFrame</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">maxFrame </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;&amp;</span><span class="token plain"> frame </span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">maxFrame</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">BuildLabel</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> template</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name">ParsedName</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> template</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Category}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{StyleId}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">??</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Dim}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Variant}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Replace</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">TryParse</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> spriteName</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">bool</span><span class="token plain"> hasStyleId</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">out</span><span class="token plain"> </span><span class="token class-name">ParsedName</span><span class="token plain"> p</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        p </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">default</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token class-name keyword" style="color:#ffcc99">var</span><span class="token plain"> parts </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> spriteName</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Split</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token char">&#x27;_&#x27;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">hasStyleId</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">5</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">2</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">3</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">4</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">4</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">type </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">styleId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">dim </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">colorId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">2</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            p</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">frameId </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">3</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">JsonHelper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">static</span><span class="token plain"> </span><span class="token return-type class-name">T</span><span class="token return-type class-name punctuation" style="color:#6c6783">[</span><span class="token return-type class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token generic-method function" style="color:#9a86fd">FromJson</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">T</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> json</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name keyword" style="color:#ffcc99">string</span><span class="token plain"> wrapped </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;{\&quot;Items\&quot;:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> json </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;}&quot;</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token class-name">Wrapper</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"> wrapper </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> JsonUtility</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token generic-method function" style="color:#9a86fd">FromJson</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">Wrapper</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&lt;</span><span class="token generic-method generic class-name">T</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token generic-method generic class-name punctuation" style="color:#6c6783">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">wrapped</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token plain"> wrapper</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Items</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">System</span><span class="token attribute class-name punctuation" style="color:#6c6783">.</span><span class="token attribute class-name">Serializable</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">Wrapper</span><span class="token class-name punctuation" style="color:#6c6783">&lt;</span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token class-name">T</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> Items</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Since we are generating all combinations, let&#x27;s use a smaller JSON config as demo:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Body&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;variants&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token string" style="color:#ffcc99">&quot;03&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;06&quot;</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">114</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">137</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Hairstyle&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;pairs&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;05&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;walk_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">112</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">135</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;category&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Outfit&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;hasStyleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">true</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;pairs&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;styleId&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;01&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token property" style="color:#9a86fd">&quot;variant&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;06&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;dimFilter&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;48x48&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;labelTemplate&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;{StyleId}_{Slice}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;minFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">112</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token property" style="color:#9a86fd">&quot;maxFrame&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token number" style="color:#e09142">135</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then go to Tools &gt;&gt; Sprite Library &gt;&gt; Generate All Libraries (Monolithic JSON Config). Wait for awhile, your computer might hang for a bit. This will create 4 libraries under <code>Assets/SpriteLibraryAssets</code> if the JSON example above is used:</p>
<section><img src="/50033/assets/images/2025-09-30-18-02-53-72272474c4ffe9823d4b53e3a41c43d7.png" class="center_image_tcFY" style="width:100%"></section>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="workflow-details">Workflow Details<a href="#workflow-details" class="hash-link" aria-label="Direct link to Workflow Details" title="Direct link to Workflow Details">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="monolithic-workflow-one-library-per-full-character">Monolithic Workflow (One Library Per Full Character)<a href="#monolithic-workflow-one-library-per-full-character" class="hash-link" aria-label="Direct link to Monolithic Workflow (One Library Per Full Character)" title="Direct link to Monolithic Workflow (One Library Per Full Character)">​</a></h3>
<p>You should have pre-baked SpriteAssetLibrary for each combination of sprites as follows:</p>
<section><img src="/50033/assets/images/2025-10-01-08-34-18-c421e6cb07882576fd6ebf5a17de5318.png" class="center_image_tcFY" style="width:100%"></section>
<p>Then, create a gameobject with this structure, where Root contains an Animator + SpriteAssetLibrary and the child Object contains Renderer + Resolver <span class="orange-bold">each</span>.</p>
<div class="language-mathematica codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mathematica codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">PlayerCharacter (Root)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Components on Root:</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • Animator</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteLibrary (Assign CharacterX.asset here)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Body (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Body&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Hair (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Hairstyle&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> └── Outfit (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteResolver (Category = &quot;Outfit&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>The children SpriteResolver all points to the <strong>same</strong> library at Root.</p></div></div>
<p>You can set an initial sprite to show in the <code>SpriteResolver</code> Inspector window for each object, as such so you can visualise the character:</p>
<section><img src="/50033/assets/images/2025-10-01-08-38-38-b1b2c9e8911ae13c2ece588ae0f47abc.png" class="center_image_tcFY" style="width:100%"></section>
<p>Afterwards, create animation clips and record as usual, but this time around record the changing of sprites by <strong>clicking the sprites in the SpriteResolver</strong> of each child GameObject. This gif shows the process to create one animation clip:</p>
<section><img src="/50033/assets/images/spritelib-mono-anim-create-73185897e9fe3c044b8716fc1fb42095.gif" class="center_image_tcFY" style="width:100%"></section>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>The dopesheet should record <em>Sprite Hash</em> in your sprite resolver instead of sprite address. This way, your animator creates key frame based on the Sprite Hash in the Sprite Library, and does not reference the sprite itself.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="test-swap-at-runtime">Test Swap at Runtime<a href="#test-swap-at-runtime" class="hash-link" aria-label="Direct link to Test Swap at Runtime" title="Direct link to Test Swap at Runtime">​</a></h4>
<p>Attach the following script to your Root GameObject:</p>
<ul>
<li>We use <code>InspectorButton</code> attribute from <a href="/50033/resources/general/helper-buttons">this</a> tutorial so that we can run those functions using buttons in the Inspector</li>
</ul>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">U2D</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Animation</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">Game</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">DebugTools</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">CharacterSkinSwitcherMonolithic</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibrary</span><span class="token plain"> spriteLibrary</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain">   </span><span class="token comment" style="color:#6c6783">// attach root SpriteLibrary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibraryAsset</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> skins</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// drag in all monolithic assets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> currentIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">NextSkin</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        currentIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">currentIndex </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">%</span><span class="token plain"> skins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        spriteLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> skins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">currentIndex</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Swapped to monolithic skin: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">skins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">currentIndex</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">SetSkin</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">index </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> index </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> skins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        spriteLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> skins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        currentIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Set monolithic skin: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">skins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">index</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then load all skin assets you have created before. During runtime, you should see that they are easily swapped and the animation works seamlessly:</p>
<section><img src="/50033/assets/images/swap-mono-ea86760cf2b9f4f5d197fcaaabcd0d49.gif" class="center_image_tcFY" style="width:100%"></section>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modular-workflow-one-library-per-type-of-sprite">Modular Workflow (One Library Per Type of Sprite)<a href="#modular-workflow-one-library-per-type-of-sprite" class="hash-link" aria-label="Direct link to Modular Workflow (One Library Per Type of Sprite)" title="Direct link to Modular Workflow (One Library Per Type of Sprite)">​</a></h3>
<p>You should have pre-baked library for each type of sprites as follows:</p>
<section><img src="/50033/assets/images/2025-10-01-08-58-11-a6c15097772ab35625fd0d30b6bb78bd.png" class="center_image_tcFY" style="width:100%"></section>
<p>Then, create a gameobject with this structure, where Root contains an Animator and the child Object contains Renderer + Resolver + Library <span class="orange-bold">each</span>. This is unlike the Monolithic structure where there&#x27;s only one Library at the Root:</p>
<div class="language-mathematica codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mathematica codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">PlayerCharacter (Root)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Components on Root:</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • Animator</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Body (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteLibrary (assign Body_X.asset or similar)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Body&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> ├── Hair (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteLibrary (assign Hairstyle_X.asset or similar)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │    • SpriteResolver (Category = &quot;Hairstyle&quot;)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> │</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"> └── Outfit (Child GameObject)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteRenderer</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteLibrary (assign Outfit_X.asset or similar)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      • SpriteResolver (Category = &quot;Outfit&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then record the animation clips as usual by changing the Sprite Resolver sprites on each child object:</p>
<section><img src="/50033/assets/images/2025-10-01-09-07-41-ab5203fd0c7d8f5a03a188bcadae1eed.png" class="center_image_tcFY" style="width:100%"></section>
<section><img src="/50033/assets/images/2025-10-01-09-07-53-7855878678287556e00851d2b41aedbf.png" class="center_image_tcFY" style="width:100%"></section>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_vXIg"><p>Likewise, the dopesheet should record <em>Sprite Hash</em> in your sprite resolver instead of sprite address. This way, your animator creates key frame based on the Sprite Hash in the Sprite Library, and does not reference the sprite itself.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="test-swap-at-runtime-1">Test Swap at Runtime<a href="#test-swap-at-runtime-1" class="hash-link" aria-label="Direct link to Test Swap at Runtime" title="Direct link to Test Swap at Runtime">​</a></h4>
<p>Attach the following script to your root gameobject:</p>
<ul>
<li>We use <code>InspectorButton</code> attribute from <a href="/50033/resources/general/helper-buttons">this</a> tutorial so that we can run those functions using buttons in the Inspector</li>
</ul>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">UnityEngine</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">U2D</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">Animation</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">Game</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">.</span><span class="token namespace" style="opacity:0.7">DebugTools</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">class</span><span class="token plain"> </span><span class="token class-name">CharacterSkinSwitcherModular</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">Header</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">(</span><span class="token attribute attribute-arguments string" style="color:#ffcc99">&quot;Sprite Libraries (assign child SpriteLibrary components)&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibrary</span><span class="token plain"> bodyLibrary</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibrary</span><span class="token plain"> hairLibrary</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibrary</span><span class="token plain"> outfitLibrary</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">Header</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">(</span><span class="token attribute attribute-arguments string" style="color:#ffcc99">&quot;Available Assets&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibraryAsset</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> bodySkins</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibraryAsset</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> hairSkins</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">SerializeField</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name">SpriteLibraryAsset</span><span class="token class-name punctuation" style="color:#6c6783">[</span><span class="token class-name punctuation" style="color:#6c6783">]</span><span class="token plain"> outfitSkins</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> bodyIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> hairIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> outfitIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">NextBody</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">bodySkins </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> bodySkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        bodyIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">bodyIndex </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">%</span><span class="token plain"> bodySkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        bodyLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> bodySkins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">bodyIndex</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Swapped Body: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">bodySkins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">bodyIndex</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">NextHair</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">hairSkins </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> hairSkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        hairIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">hairIndex </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">%</span><span class="token plain"> hairSkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        hairLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> hairSkins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">hairIndex</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Swapped Hair: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">hairSkins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">hairIndex</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">NextOutfit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">outfitSkins </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">null</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> outfitSkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length </span><span class="token operator" style="color:#e09142">==</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        outfitIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">outfitIndex </span><span class="token operator" style="color:#e09142">+</span><span class="token plain"> </span><span class="token number" style="color:#e09142">1</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">%</span><span class="token plain"> outfitSkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        outfitLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> outfitSkins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">outfitIndex</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Swapped Outfit: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">outfitSkins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">outfitIndex</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">SetBody</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">index </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> index </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> bodySkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        bodyLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> bodySkins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        bodyIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Set Body: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">bodySkins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">index</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">SetHair</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">index </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> index </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> hairSkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        hairLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> hairSkins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        hairIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Set Hair: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">hairSkins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">index</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token attribute class-name">InspectorButton</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#ffcc99">void</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">SetOutfit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name keyword" style="color:#ffcc99">int</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token keyword" style="color:#ffcc99">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">index </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">||</span><span class="token plain"> index </span><span class="token operator" style="color:#e09142">&gt;=</span><span class="token plain"> outfitSkins</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">return</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        outfitLibrary</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token plain">spriteLibraryAsset </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> outfitSkins</span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        outfitIndex </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> index</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        Debug</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">Log</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token interpolation-string string" style="color:#ffcc99">$&quot;Set Outfit: </span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">{</span><span class="token interpolation-string interpolation expression language-csharp">outfitSkins</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">[</span><span class="token interpolation-string interpolation expression language-csharp">index</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">]</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#6c6783">.</span><span class="token interpolation-string interpolation expression language-csharp">name</span><span class="token interpolation-string interpolation punctuation" style="color:#6c6783">}</span><span class="token interpolation-string string" style="color:#ffcc99">&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then load all the modular skin assets you have created before. During runtime, you should see that they are easily swapped and the animation works seamlessly:</p>
<section><img src="/50033/assets/images/2025-10-01-09-14-29-feae6c3c5e2c80f353df448d4acc17bb.png" class="center_image_tcFY" style="width:100%"></section>
<p>Here&#x27;s a gif of the test script in action:</p>
<section><img src="/50033/assets/images/swap-modular-46fbc5ddbdb45d85abbc29a21b7bfd30.gif" class="center_image_tcFY" style="width:100%"></section>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="which-workflow-should-i-use">Which Workflow Should I Use?<a href="#which-workflow-should-i-use" class="hash-link" aria-label="Direct link to Which Workflow Should I Use?" title="Direct link to Which Workflow Should I Use?">​</a></h2>
<p>Pick <span class="orange-bold">Modular</span> if:</p>
<ul>
<li>You need <strong>customization</strong>: players can pick any Body + Hairstyle + Outfit combination</li>
<li>You want to <strong>add new parts later</strong> (new haircuts, costumes) without re-authoring old assets</li>
<li>You want to <strong>reuse Animator clips</strong> across many characters</li>
<li>You care about <strong>keeping library asset count low</strong> (no combinatorial explosion)</li>
<li>You’re okay with each character GameObject having multiple <code>SpriteResolver</code>s (one per part)</li>
<li><strong>Best when:</strong> you want <em>prefab-per-character</em>, few total variants, and cheap swaps</li>
<li><strong>Cost</strong>: large asset count if you support mix-and-match</li>
</ul>
<p>Pick <span class="orange-bold">Monolithic</span> if:</p>
<ul>
<li>You only need a <strong>small set of predefined full skins</strong></li>
<li>Your game’s characters are <strong>fixed</strong> (e.g. fighting game roster, boss enemies)</li>
<li>You want the <strong>simplest runtime swapping</strong> (just one asset per character)</li>
<li>You prefer a <strong>minimal hierarchy</strong> (only one <code>SpriteResolver</code> on the root)</li>
<li>You don’t expect to mix &amp; match Body/Hair/Outfit at runtime</li>
<li><strong>Best when:</strong> you want a customization system (mix-and-match parts)</li>
<li><strong>Cost</strong>: 2–3x as many lookups per frame compared to monolithic, but still <em>negligible</em> in real games</li>
</ul>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p><strong>Rule of thumb</strong>:</p><ul>
<li>If your design doc says “player can choose hair, outfit, etc.”: choose <strong>Modular</strong></li>
<li>If it says “this NPC has one skin, and we’ll maybe have 3 alternate costumes”: choose <strong>Monolithic</strong></li>
</ul></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/50033/resources/general/patterns"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Diving into Unity Architecture Patterns</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/50033/resources/general/object-pooling"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Object Pooling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-install-2d-animation-package" class="table-of-contents__link toc-highlight">Step 1: Install 2D Animation Package</a></li><li><a href="#step-2-preparing-the-spritesheets" class="table-of-contents__link toc-highlight">Step 2: Preparing the Spritesheets</a><ul><li><a href="#naming-convention" class="table-of-contents__link toc-highlight">Naming Convention</a></li><li><a href="#sprite-slicing-and-import-settings" class="table-of-contents__link toc-highlight">Sprite slicing and import settings</a></li></ul></li><li><a href="#workflow-overview" class="table-of-contents__link toc-highlight">Workflow Overview</a><ul><li><a href="#monolithic-workflow-all-in-one-libraries-overview" class="table-of-contents__link toc-highlight">Monolithic Workflow (all-in-one libraries) Overview</a></li><li><a href="#modular-workflow-overview" class="table-of-contents__link toc-highlight">Modular Workflow Overview</a></li><li><a href="#visual-summary" class="table-of-contents__link toc-highlight">Visual Summary</a></li></ul></li><li><a href="#creating-the-spritelibraryasset" class="table-of-contents__link toc-highlight">Creating the SpriteLibraryAsset</a><ul><li><a href="#manual-creation-of-spritelibraryasset" class="table-of-contents__link toc-highlight">Manual Creation of SpriteLibraryAsset</a></li><li><a href="#batch-creation-of-spritelibraryasset" class="table-of-contents__link toc-highlight">Batch Creation of SpriteLibraryAsset</a></li></ul></li><li><a href="#workflow-details" class="table-of-contents__link toc-highlight">Workflow Details</a><ul><li><a href="#monolithic-workflow-one-library-per-full-character" class="table-of-contents__link toc-highlight">Monolithic Workflow (One Library Per Full Character)</a></li><li><a href="#modular-workflow-one-library-per-type-of-sprite" class="table-of-contents__link toc-highlight">Modular Workflow (One Library Per Type of Sprite)</a></li></ul></li><li><a href="#which-workflow-should-i-use" class="table-of-contents__link toc-highlight">Which Workflow Should I Use?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 50.033 Game Design and Development</div></div></div></footer></div>
</body>
</html>